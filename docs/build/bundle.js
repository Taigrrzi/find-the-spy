var app=function(){"use strict";function t(){}const n=t=>t;function e(t){return t()}function r(){return Object.create(null)}function o(t){t.forEach(e)}function i(t){return"function"==typeof t}function u(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}const a="undefined"!=typeof window;let s=a?()=>window.performance.now():()=>Date.now(),c=a?t=>requestAnimationFrame(t):t;const l=new Set;function f(t){l.forEach((n=>{n.c(t)||(l.delete(n),n.f())})),0!==l.size&&c(f)}function h(t,n){t.appendChild(n)}function d(t){if(!t)return document;const n=t.getRootNode?t.getRootNode():t.ownerDocument;return n&&n.host?n:t.ownerDocument}function g(t){const n=w("style");return function(t,n){h(t.head||t,n),n.sheet}(d(t),n),n.sheet}function p(t,n,e){t.insertBefore(n,e||null)}function m(t){t.parentNode&&t.parentNode.removeChild(t)}function w(t){return document.createElement(t)}function y(t){return document.createTextNode(t)}function v(){return y(" ")}function x(){return y("")}function b(t,n,e,r){return t.addEventListener(n,e,r),()=>t.removeEventListener(n,e,r)}function E(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function $(t,n){n=""+n,t.data!==n&&(t.data=n)}function A(t,n){t.value=null==n?"":n}function C(t,n,{bubbles:e=!1,cancelable:r=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(t,e,r,n),o}const P=new Map;let M,N=0;function R(t,n,e,r,o,i,u,a=0){const s=16.666/r;let c="{\n";for(let t=0;t<=1;t+=s){const r=n+(e-n)*i(t);c+=100*t+`%{${u(r,1-r)}}\n`}const l=c+`100% {${u(e,1-e)}}\n}`,f=`__svelte_${function(t){let n=5381,e=t.length;for(;e--;)n=(n<<5)-n^t.charCodeAt(e);return n>>>0}(l)}_${a}`,h=d(t),{stylesheet:p,rules:m}=P.get(h)||function(t,n){const e={stylesheet:g(n),rules:{}};return P.set(t,e),e}(h,t);m[f]||(m[f]=!0,p.insertRule(`@keyframes ${f} ${l}`,p.cssRules.length));const w=t.style.animation||"";return t.style.animation=`${w?`${w}, `:""}${f} ${r}ms linear ${o}ms 1 both`,N+=1,f}function B(t,n){const e=(t.style.animation||"").split(", "),r=e.filter(n?t=>t.indexOf(n)<0:t=>-1===t.indexOf("__svelte")),o=e.length-r.length;o&&(t.style.animation=r.join(", "),N-=o,N||c((()=>{N||(P.forEach((t=>{const{ownerNode:n}=t.stylesheet;n&&m(n)})),P.clear())})))}function I(t){M=t}function T(){if(!M)throw new Error("Function called outside component initialization");return M}function k(t){T().$$.on_mount.push(t)}const _=[],L=[];let S=[];const U=[],z=Promise.resolve();let F=!1;function D(t){S.push(t)}const O=new Set;let j,Y=0;function q(){if(0!==Y)return;const t=M;do{try{for(;Y<_.length;){const t=_[Y];Y++,I(t),J(t.$$)}}catch(t){throw _.length=0,Y=0,t}for(I(null),_.length=0,Y=0;L.length;)L.pop()();for(let t=0;t<S.length;t+=1){const n=S[t];O.has(n)||(O.add(n),n())}S.length=0}while(_.length);for(;U.length;)U.pop()();F=!1,O.clear(),I(t)}function J(t){if(null!==t.fragment){t.update(),o(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(D)}}function H(t,n,e){t.dispatchEvent(C(`${n?"intro":"outro"}${e}`))}const K=new Set;let Q;function V(){Q={r:0,c:[],p:Q}}function X(){Q.r||o(Q.c),Q=Q.p}function W(t,n){t&&t.i&&(K.delete(t),t.i(n))}function Z(t,n,e,r){if(t&&t.o){if(K.has(t))return;K.add(t),Q.c.push((()=>{K.delete(t),r&&(e&&t.d(1),r())})),t.o(n)}else r&&r()}const G={duration:0};function tt(e,r,u,a){const h={direction:"both"};let d=r(e,u,h),g=a?0:1,p=null,m=null,w=null;function y(){w&&B(e,w)}function v(t,n){const e=t.b-g;return n*=Math.abs(e),{a:g,b:t.b,d:e,duration:n,start:t.start,end:t.start+n,group:t.group}}function x(r){const{delay:i=0,duration:u=300,easing:a=n,tick:h=t,css:x}=d||G,b={start:s()+i,b:r};r||(b.group=Q,Q.r+=1),p||m?m=b:(x&&(y(),w=R(e,g,r,u,i,a,x)),r&&h(0,1),p=v(b,u),D((()=>H(e,r,"start"))),function(t){let n;0===l.size&&c(f),new Promise((e=>{l.add(n={c:t,f:e})}))}((t=>{if(m&&t>m.start&&(p=v(m,u),m=null,H(e,p.b,"start"),x&&(y(),w=R(e,g,p.b,p.duration,0,a,d.css))),p)if(t>=p.end)h(g=p.b,1-g),H(e,p.b,"end"),m||(p.b?y():--p.group.r||o(p.group.c)),p=null;else if(t>=p.start){const n=t-p.start;g=p.a+p.d*a(n/p.duration),h(g,1-g)}return!(!p&&!m)})))}return{run(t){i(d)?(j||(j=Promise.resolve(),j.then((()=>{j=null}))),j).then((()=>{d=d(h),x(t)})):x(t)},end(){y(),p=m=null}}}function nt(t,n){Z(t,1,1,(()=>{n.delete(t.key)}))}function et(t){t&&t.c()}function rt(t,n,r,u){const{fragment:a,after_update:s}=t.$$;a&&a.m(n,r),u||D((()=>{const n=t.$$.on_mount.map(e).filter(i);t.$$.on_destroy?t.$$.on_destroy.push(...n):o(n),t.$$.on_mount=[]})),s.forEach(D)}function ot(t,n){const e=t.$$;null!==e.fragment&&(!function(t){const n=[],e=[];S.forEach((r=>-1===t.indexOf(r)?n.push(r):e.push(r))),e.forEach((t=>t())),S=n}(e.after_update),o(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function it(t,n){-1===t.$$.dirty[0]&&(_.push(t),F||(F=!0,z.then(q)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function ut(n,e,i,u,a,s,c,l=[-1]){const f=M;I(n);const h=n.$$={fragment:null,ctx:[],props:s,update:t,not_equal:a,bound:r(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:r(),dirty:l,skip_bound:!1,root:e.target||f.$$.root};c&&c(h.root);let d=!1;if(h.ctx=i?i(n,e.props||{},((t,e,...r)=>{const o=r.length?r[0]:e;return h.ctx&&a(h.ctx[t],h.ctx[t]=o)&&(!h.skip_bound&&h.bound[t]&&h.bound[t](o),d&&it(n,t)),e})):[],h.update(),d=!0,o(h.before_update),h.fragment=!!u&&u(h.ctx),e.target){if(e.hydrate){const t=function(t){return Array.from(t.childNodes)}(e.target);h.fragment&&h.fragment.l(t),t.forEach(m)}else h.fragment&&h.fragment.c();e.intro&&W(n.$$.fragment),rt(n,e.target,e.anchor,e.customElement),q()}I(f)}class at{$destroy(){ot(this,1),this.$destroy=t}$on(n,e){if(!i(e))return t;const r=this.$$.callbacks[n]||(this.$$.callbacks[n]=[]);return r.push(e),()=>{const t=r.indexOf(e);-1!==t&&r.splice(t,1)}}$set(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function st(t){const n=t-1;return n*n*n+1}function ct(t,{delay:e=0,duration:r=400,easing:o=n}={}){const i=+getComputedStyle(t).opacity;return{delay:e,duration:r,easing:o,css:t=>"opacity: "+t*i}}function lt(t,{delay:n=0,duration:e=400,easing:r=st,axis:o="y"}={}){const i=getComputedStyle(t),u=+i.opacity,a="y"===o?"height":"width",s=parseFloat(i[a]),c="y"===o?["top","bottom"]:["left","right"],l=c.map((t=>`${t[0].toUpperCase()}${t.slice(1)}`)),f=parseFloat(i[`padding${l[0]}`]),h=parseFloat(i[`padding${l[1]}`]),d=parseFloat(i[`margin${l[0]}`]),g=parseFloat(i[`margin${l[1]}`]),p=parseFloat(i[`border${l[0]}Width`]),m=parseFloat(i[`border${l[1]}Width`]);return{delay:n,duration:e,easing:r,css:t=>`overflow: hidden;opacity: ${Math.min(20*t,1)*u};${a}: ${t*s}px;padding-${c[0]}: ${t*f}px;padding-${c[1]}: ${t*h}px;margin-${c[0]}: ${t*d}px;margin-${c[1]}: ${t*g}px;border-${c[0]}-width: ${t*p}px;border-${c[1]}-width: ${t*m}px;`}}function ft(t,n,e){const r=t.slice();return r[7]=n[e],r[8]=n,r[9]=e,r}function ht(t,n){let e,r,i,u,a,s,c,l;function f(){n[4].call(r,n[9])}function d(){return n[5](n[9])}return{key:t,first:null,c(){e=w("div"),r=w("input"),i=v(),u=w("button"),u.textContent="Remove",E(r,"placeholder","Player name"),E(u,"class","svelte-49dl4l"),E(e,"class","player-input svelte-49dl4l"),this.first=e},m(t,o){p(t,e,o),h(e,r),A(r,n[0][n[9]]),h(e,i),h(e,u),s=!0,c||(l=[b(r,"input",f),b(u,"click",d)],c=!0)},p(t,e){n=t,1&e&&r.value!==n[0][n[9]]&&A(r,n[0][n[9]])},i(t){s||(D((()=>{s&&(a||(a=tt(e,lt,{},!0)),a.run(1))})),s=!0)},o(t){a||(a=tt(e,lt,{},!1)),a.run(0),s=!1},d(t){t&&m(e),t&&a&&a.end(),c=!1,o(l)}}}function dt(t){let n,e,r,i,u,a,s,c,l,f,d,g=[],y=new Map,x=t[0];const $=t=>t[9];for(let n=0;n<x.length;n+=1){let e=ft(t,x,n),r=$(e);y.set(r,g[n]=ht(r,e))}return{c(){n=w("div"),e=w("h2"),e.textContent="Create New Game",r=v();for(let t=0;t<g.length;t+=1)g[t].c();i=v(),u=w("button"),u.textContent="Add Player",s=v(),c=w("button"),c.textContent="Start Game",E(u,"class","svelte-49dl4l"),E(c,"class","svelte-49dl4l"),E(n,"class","game-creation svelte-49dl4l")},m(o,a){p(o,n,a),h(n,e),h(n,r);for(let t=0;t<g.length;t+=1)g[t]&&g[t].m(n,null);h(n,i),h(n,u),h(n,s),h(n,c),l=!0,f||(d=[b(u,"click",t[1]),b(c,"click",t[3])],f=!0)},p(t,[e]){5&e&&(x=t[0],V(),g=function(t,n,e,r,i,u,a,s,c,l,f,h){let d=t.length,g=u.length,p=d;const m={};for(;p--;)m[t[p].key]=p;const w=[],y=new Map,v=new Map,x=[];for(p=g;p--;){const t=h(i,u,p),o=e(t);let s=a.get(o);s?r&&x.push((()=>s.p(t,n))):(s=l(o,t),s.c()),y.set(o,w[p]=s),o in m&&v.set(o,Math.abs(p-m[o]))}const b=new Set,E=new Set;function $(t){W(t,1),t.m(s,f),a.set(t.key,t),f=t.first,g--}for(;d&&g;){const n=w[g-1],e=t[d-1],r=n.key,o=e.key;n===e?(f=n.first,d--,g--):y.has(o)?!a.has(r)||b.has(r)?$(n):E.has(o)?d--:v.get(r)>v.get(o)?(E.add(r),$(n)):(b.add(o),d--):(c(e,a),d--)}for(;d--;){const n=t[d];y.has(n.key)||c(n,a)}for(;g;)$(w[g-1]);return o(x),w}(g,e,$,1,t,x,y,n,nt,ht,i,ft),X())},i(t){if(!l){for(let t=0;t<x.length;t+=1)W(g[t]);D((()=>{l&&(a||(a=tt(u,ct,{},!0)),a.run(1))})),l=!0}},o(t){for(let t=0;t<g.length;t+=1)Z(g[t]);a||(a=tt(u,ct,{},!1)),a.run(0),l=!1},d(t){t&&m(n);for(let t=0;t<g.length;t+=1)g[t].d();t&&a&&a.end(),f=!1,o(d)}}}function gt(t,n,e){const r=function(){const t=T();return(n,e,{cancelable:r=!1}={})=>{const o=t.$$.callbacks[n];if(o){const i=C(n,e,{cancelable:r});return o.slice().forEach((n=>{n.call(t,i)})),!i.defaultPrevented}return!0}}();let o=["Player 1","Player 2"];function i(t){e(0,o=o.filter(((n,e)=>e!==t)))}return[o,function(){e(0,o=[...o,`Player ${o.length+1}`])},i,function(){r("gameStart",{players:o})},function(t){o[t]=this.value,e(0,o)},t=>i(t)]}class pt extends at{constructor(t){super(),ut(this,t,gt,dt,u,{})}}const mt=[{name:"Animals",items:["Elephant","Giraffe","Penguin","Lion","Dolphin"]},{name:"Countries",items:["France","Japan","Brazil","Egypt","Australia"]},{name:"Professions",items:["Doctor","Teacher","Chef","Astronaut","Firefighter"]},{name:"Movies",items:["Star Wars","Titanic","The Matrix","Jurassic Park","Avatar"]}];function wt(n){let e,r,o,i,u,a,s;return{c(){e=w("p"),r=y("The spy was: "),o=y(n[3]),i=v(),u=w("button"),u.textContent="Next Round",E(u,"class","svelte-nowyho")},m(t,c){p(t,e,c),h(e,r),h(e,o),p(t,i,c),p(t,u,c),a||(s=b(u,"click",n[6]),a=!0)},p(t,n){8&n&&$(o,t[3])},i:t,o:t,d(t){t&&m(e),t&&m(i),t&&m(u),a=!1,s()}}}function yt(t){let n,e,r,o,i,u,a,s,c,l,f;const d=[bt,xt],g=[];function x(t,n){return t[0].currentPlayer!==t[3]?0:1}return i=x(t),u=g[i]=d[i](t),{c(){n=w("p"),e=y("Topic: "),r=y(t[1]),o=v(),u.c(),a=v(),s=w("button"),s.textContent="Reveal",E(s,"class","svelte-nowyho")},m(u,d){p(u,n,d),h(n,e),h(n,r),p(u,o,d),g[i].m(u,d),p(u,a,d),p(u,s,d),c=!0,l||(f=b(s,"click",t[8]),l=!0)},p(t,n){(!c||2&n)&&$(r,t[1]);let e=i;i=x(t),i===e?g[i].p(t,n):(V(),Z(g[e],1,1,(()=>{g[e]=null})),X(),u=g[i],u?u.p(t,n):(u=g[i]=d[i](t),u.c()),W(u,1),u.m(a.parentNode,a))},i(t){c||(W(u),c=!0)},o(t){Z(u),c=!1},d(t){t&&m(n),t&&m(o),g[i].d(t),t&&m(a),t&&m(s),l=!1,f()}}}function vt(n){let e,r,o,i,u,a,s;return{c(){e=w("p"),r=y("Topic: "),o=y(n[1]),i=v(),u=w("button"),u.textContent="Start Round",E(u,"class","svelte-nowyho")},m(t,c){p(t,e,c),h(e,r),h(e,o),p(t,i,c),p(t,u,c),a||(s=b(u,"click",n[7]),a=!0)},p(t,n){2&n&&$(o,t[1])},i:t,o:t,d(t){t&&m(e),t&&m(i),t&&m(u),a=!1,s()}}}function xt(n){let e,r,o;return{c(){e=w("p"),e.textContent="You are the spy!"},m(t,n){p(t,e,n),o=!0},p:t,i(t){o||(D((()=>{o&&(r||(r=tt(e,ct,{},!0)),r.run(1))})),o=!0)},o(t){r||(r=tt(e,ct,{},!1)),r.run(0),o=!1},d(t){t&&m(e),t&&r&&r.end()}}}function bt(t){let n,e,r,o,i;return{c(){n=w("p"),e=y("Item: "),r=y(t[2])},m(t,o){p(t,n,o),h(n,e),h(n,r),i=!0},p(t,n){(!i||4&n)&&$(r,t[2])},i(t){i||(D((()=>{i&&(o||(o=tt(n,ct,{},!0)),o.run(1))})),i=!0)},o(t){o||(o=tt(n,ct,{},!1)),o.run(0),i=!1},d(t){t&&m(n),t&&o&&o.end()}}}function Et(t){let n,e,r,o,i,u,a,s,c=t[0].currentRound+"";const l=[vt,yt,wt],f=[];function d(t,n){return t[5]?t[4]?2:1:0}return u=d(t),a=f[u]=l[u](t),{c(){n=w("div"),e=w("h2"),r=y("Round "),o=y(c),i=v(),a.c(),E(n,"class","game-running svelte-nowyho")},m(t,a){p(t,n,a),h(n,e),h(e,r),h(e,o),h(n,i),f[u].m(n,null),s=!0},p(t,[e]){(!s||1&e)&&c!==(c=t[0].currentRound+"")&&$(o,c);let r=u;u=d(t),u===r?f[u].p(t,e):(V(),Z(f[r],1,1,(()=>{f[r]=null})),X(),a=f[u],a?a.p(t,e):(a=f[u]=l[u](t),a.c()),W(a,1),a.m(n,null))},i(t){s||(W(a),s=!0)},o(t){Z(a),s=!1},d(t){t&&m(n),f[u].d()}}}function $t(t,n,e){let{gameState:r}=n,o="",i="",u="",a=!1,s=!1;function c(){e(0,r.currentRound++,r),e(4,a=!1),e(5,s=!1);const t=Math.floor(r.rng()*mt.length);e(1,o=mt[t].name);const n=Math.floor(r.rng()*mt[t].items.length);e(2,i=mt[t].items[n]);const c=Math.floor(r.rng()*r.config.players.length);e(3,u=r.config.players[c])}return k((()=>{c()})),t.$$set=t=>{"gameState"in t&&e(0,r=t.gameState)},[r,o,i,u,a,s,c,function(){e(5,s=!0)},function(){e(4,a=!0)}]}class At extends at{constructor(t){super(),ut(this,t,$t,Et,u,{gameState:0})}}var Ct="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Pt(t){if(t.__esModule)return t;var n=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach((function(e){var r=Object.getOwnPropertyDescriptor(t,e);Object.defineProperty(n,e,r.get?r:{enumerable:!0,get:function(){return t[e]}})})),n}function Mt(t){var n={exports:{}};return t(n,n.exports),n.exports}var Nt=Mt((function(t){!function(t,n,e){function r(t){var n=this,e=function(){var t=4022871197,n=function(n){n=String(n);for(var e=0;e<n.length;e++){var r=.02519603282416938*(t+=n.charCodeAt(e));r-=t=r>>>0,t=(r*=t)>>>0,t+=4294967296*(r-=t)}return 2.3283064365386963e-10*(t>>>0)};return n}();n.next=function(){var t=2091639*n.s0+2.3283064365386963e-10*n.c;return n.s0=n.s1,n.s1=n.s2,n.s2=t-(n.c=0|t)},n.c=1,n.s0=e(" "),n.s1=e(" "),n.s2=e(" "),n.s0-=e(t),n.s0<0&&(n.s0+=1),n.s1-=e(t),n.s1<0&&(n.s1+=1),n.s2-=e(t),n.s2<0&&(n.s2+=1),e=null}function o(t,n){return n.c=t.c,n.s0=t.s0,n.s1=t.s1,n.s2=t.s2,n}function i(t,n){var e=new r(t),i=n&&n.state,u=e.next;return u.int32=function(){return 4294967296*e.next()|0},u.double=function(){return u()+11102230246251565e-32*(2097152*u()|0)},u.quick=u,i&&("object"==typeof i&&o(i,e),u.state=function(){return o(e,{})}),u}n&&n.exports?n.exports=i:e&&e.amd?e((function(){return i})):this.alea=i}(0,t,!1)})),Rt=Mt((function(t){!function(t,n,e){function r(t){var n=this,e="";n.x=0,n.y=0,n.z=0,n.w=0,n.next=function(){var t=n.x^n.x<<11;return n.x=n.y,n.y=n.z,n.z=n.w,n.w^=n.w>>>19^t^t>>>8},t===(0|t)?n.x=t:e+=t;for(var r=0;r<e.length+64;r++)n.x^=0|e.charCodeAt(r),n.next()}function o(t,n){return n.x=t.x,n.y=t.y,n.z=t.z,n.w=t.w,n}function i(t,n){var e=new r(t),i=n&&n.state,u=function(){return(e.next()>>>0)/4294967296};return u.double=function(){do{var t=((e.next()>>>11)+(e.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},u.int32=e.next,u.quick=u,i&&("object"==typeof i&&o(i,e),u.state=function(){return o(e,{})}),u}n&&n.exports?n.exports=i:e&&e.amd?e((function(){return i})):this.xor128=i}(0,t,!1)})),Bt=Mt((function(t){!function(t,n,e){function r(t){var n=this,e="";n.next=function(){var t=n.x^n.x>>>2;return n.x=n.y,n.y=n.z,n.z=n.w,n.w=n.v,(n.d=n.d+362437|0)+(n.v=n.v^n.v<<4^t^t<<1)|0},n.x=0,n.y=0,n.z=0,n.w=0,n.v=0,t===(0|t)?n.x=t:e+=t;for(var r=0;r<e.length+64;r++)n.x^=0|e.charCodeAt(r),r==e.length&&(n.d=n.x<<10^n.x>>>4),n.next()}function o(t,n){return n.x=t.x,n.y=t.y,n.z=t.z,n.w=t.w,n.v=t.v,n.d=t.d,n}function i(t,n){var e=new r(t),i=n&&n.state,u=function(){return(e.next()>>>0)/4294967296};return u.double=function(){do{var t=((e.next()>>>11)+(e.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},u.int32=e.next,u.quick=u,i&&("object"==typeof i&&o(i,e),u.state=function(){return o(e,{})}),u}n&&n.exports?n.exports=i:e&&e.amd?e((function(){return i})):this.xorwow=i}(0,t,!1)})),It=Mt((function(t){!function(t,n,e){function r(t){var n=this;n.next=function(){var t,e,r=n.x,o=n.i;return t=r[o],e=(t^=t>>>7)^t<<24,e^=(t=r[o+1&7])^t>>>10,e^=(t=r[o+3&7])^t>>>3,e^=(t=r[o+4&7])^t<<7,t=r[o+7&7],e^=(t^=t<<13)^t<<9,r[o]=e,n.i=o+1&7,e},function(t,n){var e,r=[];if(n===(0|n))r[0]=n;else for(n=""+n,e=0;e<n.length;++e)r[7&e]=r[7&e]<<15^n.charCodeAt(e)+r[e+1&7]<<13;for(;r.length<8;)r.push(0);for(e=0;e<8&&0===r[e];++e);for(8==e?r[7]=-1:r[e],t.x=r,t.i=0,e=256;e>0;--e)t.next()}(n,t)}function o(t,n){return n.x=t.x.slice(),n.i=t.i,n}function i(t,n){null==t&&(t=+new Date);var e=new r(t),i=n&&n.state,u=function(){return(e.next()>>>0)/4294967296};return u.double=function(){do{var t=((e.next()>>>11)+(e.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},u.int32=e.next,u.quick=u,i&&(i.x&&o(i,e),u.state=function(){return o(e,{})}),u}n&&n.exports?n.exports=i:e&&e.amd?e((function(){return i})):this.xorshift7=i}(0,t,!1)})),Tt=Mt((function(t){!function(t,n,e){function r(t){var n=this;n.next=function(){var t,e,r=n.w,o=n.X,i=n.i;return n.w=r=r+1640531527|0,e=o[i+34&127],t=o[i=i+1&127],e^=e<<13,t^=t<<17,e^=e>>>15,t^=t>>>12,e=o[i]=e^t,n.i=i,e+(r^r>>>16)|0},function(t,n){var e,r,o,i,u,a=[],s=128;for(n===(0|n)?(r=n,n=null):(n+="\0",r=0,s=Math.max(s,n.length)),o=0,i=-32;i<s;++i)n&&(r^=n.charCodeAt((i+32)%n.length)),0===i&&(u=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,i>=0&&(u=u+1640531527|0,o=0==(e=a[127&i]^=r+u)?o+1:0);for(o>=128&&(a[127&(n&&n.length||0)]=-1),o=127,i=512;i>0;--i)r=a[o+34&127],e=a[o=o+1&127],r^=r<<13,e^=e<<17,r^=r>>>15,e^=e>>>12,a[o]=r^e;t.w=u,t.X=a,t.i=o}(n,t)}function o(t,n){return n.i=t.i,n.w=t.w,n.X=t.X.slice(),n}function i(t,n){null==t&&(t=+new Date);var e=new r(t),i=n&&n.state,u=function(){return(e.next()>>>0)/4294967296};return u.double=function(){do{var t=((e.next()>>>11)+(e.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},u.int32=e.next,u.quick=u,i&&(i.X&&o(i,e),u.state=function(){return o(e,{})}),u}n&&n.exports?n.exports=i:e&&e.amd?e((function(){return i})):this.xor4096=i}(0,t,!1)})),kt=Mt((function(t){!function(t,n,e){function r(t){var n=this,e="";n.next=function(){var t=n.b,e=n.c,r=n.d,o=n.a;return t=t<<25^t>>>7^e,e=e-r|0,r=r<<24^r>>>8^o,o=o-t|0,n.b=t=t<<20^t>>>12^e,n.c=e=e-r|0,n.d=r<<16^e>>>16^o,n.a=o-t|0},n.a=0,n.b=0,n.c=-1640531527,n.d=1367130551,t===Math.floor(t)?(n.a=t/4294967296|0,n.b=0|t):e+=t;for(var r=0;r<e.length+20;r++)n.b^=0|e.charCodeAt(r),n.next()}function o(t,n){return n.a=t.a,n.b=t.b,n.c=t.c,n.d=t.d,n}function i(t,n){var e=new r(t),i=n&&n.state,u=function(){return(e.next()>>>0)/4294967296};return u.double=function(){do{var t=((e.next()>>>11)+(e.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},u.int32=e.next,u.quick=u,i&&("object"==typeof i&&o(i,e),u.state=function(){return o(e,{})}),u}n&&n.exports?n.exports=i:e&&e.amd?e((function(){return i})):this.tychei=i}(0,t,!1)})),_t=Pt(Object.freeze({__proto__:null,default:{}})),Lt=Mt((function(t){!function(n,e,r){var o,i=256,u="random",a=r.pow(i,6),s=r.pow(2,52),c=2*s,l=255;function f(t,l,f){var w=[],y=p(g((l=1==l?{entropy:!0}:l||{}).entropy?[t,m(e)]:null==t?function(){try{var t;return o&&(t=o.randomBytes)?t=t(i):(t=new Uint8Array(i),(n.crypto||n.msCrypto).getRandomValues(t)),m(t)}catch(t){var r=n.navigator,u=r&&r.plugins;return[+new Date,n,u,n.screen,m(e)]}}():t,3),w),v=new h(w),x=function(){for(var t=v.g(6),n=a,e=0;t<s;)t=(t+e)*i,n*=i,e=v.g(1);for(;t>=c;)t/=2,n/=2,e>>>=1;return(t+e)/n};return x.int32=function(){return 0|v.g(4)},x.quick=function(){return v.g(4)/4294967296},x.double=x,p(m(v.S),e),(l.pass||f||function(t,n,e,o){return o&&(o.S&&d(o,v),t.state=function(){return d(v,{})}),e?(r[u]=t,n):t})(x,y,"global"in l?l.global:this==r,l.state)}function h(t){var n,e=t.length,r=this,o=0,u=r.i=r.j=0,a=r.S=[];for(e||(t=[e++]);o<i;)a[o]=o++;for(o=0;o<i;o++)a[o]=a[u=l&u+t[o%e]+(n=a[o])],a[u]=n;(r.g=function(t){for(var n,e=0,o=r.i,u=r.j,a=r.S;t--;)n=a[o=l&o+1],e=e*i+a[l&(a[o]=a[u=l&u+n])+(a[u]=n)];return r.i=o,r.j=u,e})(i)}function d(t,n){return n.i=t.i,n.j=t.j,n.S=t.S.slice(),n}function g(t,n){var e,r=[],o=typeof t;if(n&&"object"==o)for(e in t)try{r.push(g(t[e],n-1))}catch(t){}return r.length?r:"string"==o?t:t+"\0"}function p(t,n){for(var e,r=t+"",o=0;o<r.length;)n[l&o]=l&(e^=19*n[l&o])+r.charCodeAt(o++);return m(n)}function m(t){return String.fromCharCode.apply(0,t)}if(p(r.random(),e),t.exports){t.exports=f;try{o=_t}catch(t){}}else r["seed"+u]=f}("undefined"!=typeof self?self:Ct,[],Math)}));Lt.alea=Nt,Lt.xor128=Rt,Lt.xorwow=Bt,Lt.xorshift7=It,Lt.xor4096=Tt,Lt.tychei=kt;var St=Lt;let Ut;const zt=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];var Ft=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return 4*t+17},Dt=function(t){return zt[t]},Ot=function(t){let n=0;for(;0!==t;)n++,t>>>=1;return n},jt=function(t){if("function"!=typeof t)throw new Error('"toSJISFunc" is not a valid function.');Ut=t},Yt=function(){return void 0!==Ut},qt=function(t){return Ut(t)},Jt=Mt((function(t,n){n.L={bit:1},n.M={bit:0},n.Q={bit:3},n.H={bit:2},n.isValid=function(t){return t&&void 0!==t.bit&&t.bit>=0&&t.bit<4},n.from=function(t,e){if(n.isValid(t))return t;try{return function(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return n.L;case"m":case"medium":return n.M;case"q":case"quartile":return n.Q;case"h":case"high":return n.H;default:throw new Error("Unknown EC Level: "+t)}}(t)}catch(t){return e}}}));function Ht(){this.buffer=[],this.length=0}Ht.prototype={get:function(t){const n=Math.floor(t/8);return 1==(this.buffer[n]>>>7-t%8&1)},put:function(t,n){for(let e=0;e<n;e++)this.putBit(1==(t>>>n-e-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){const n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),t&&(this.buffer[n]|=128>>>this.length%8),this.length++}};var Kt=Ht;function Qt(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}Qt.prototype.set=function(t,n,e,r){const o=t*this.size+n;this.data[o]=e,r&&(this.reservedBit[o]=!0)},Qt.prototype.get=function(t,n){return this.data[t*this.size+n]},Qt.prototype.xor=function(t,n,e){this.data[t*this.size+n]^=e},Qt.prototype.isReserved=function(t,n){return this.reservedBit[t*this.size+n]};var Vt=Qt,Xt=Mt((function(t,n){const e=Ft;n.getRowColCoords=function(t){if(1===t)return[];const n=Math.floor(t/7)+2,r=e(t),o=145===r?26:2*Math.ceil((r-13)/(2*n-2)),i=[r-7];for(let t=1;t<n-1;t++)i[t]=i[t-1]-o;return i.push(6),i.reverse()},n.getPositions=function(t){const e=[],r=n.getRowColCoords(t),o=r.length;for(let t=0;t<o;t++)for(let n=0;n<o;n++)0===t&&0===n||0===t&&n===o-1||t===o-1&&0===n||e.push([r[t],r[n]]);return e}}));const Wt=Ft;var Zt=function(t){const n=Wt(t);return[[0,0],[n-7,0],[0,n-7]]},Gt=Mt((function(t,n){n.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e=3,r=3,o=40,i=10;function u(t,e,r){switch(t){case n.Patterns.PATTERN000:return(e+r)%2==0;case n.Patterns.PATTERN001:return e%2==0;case n.Patterns.PATTERN010:return r%3==0;case n.Patterns.PATTERN011:return(e+r)%3==0;case n.Patterns.PATTERN100:return(Math.floor(e/2)+Math.floor(r/3))%2==0;case n.Patterns.PATTERN101:return e*r%2+e*r%3==0;case n.Patterns.PATTERN110:return(e*r%2+e*r%3)%2==0;case n.Patterns.PATTERN111:return(e*r%3+(e+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}}n.isValid=function(t){return null!=t&&""!==t&&!isNaN(t)&&t>=0&&t<=7},n.from=function(t){return n.isValid(t)?parseInt(t,10):void 0},n.getPenaltyN1=function(t){const n=t.size;let r=0,o=0,i=0,u=null,a=null;for(let s=0;s<n;s++){o=i=0,u=a=null;for(let c=0;c<n;c++){let n=t.get(s,c);n===u?o++:(o>=5&&(r+=e+(o-5)),u=n,o=1),n=t.get(c,s),n===a?i++:(i>=5&&(r+=e+(i-5)),a=n,i=1)}o>=5&&(r+=e+(o-5)),i>=5&&(r+=e+(i-5))}return r},n.getPenaltyN2=function(t){const n=t.size;let e=0;for(let r=0;r<n-1;r++)for(let o=0;o<n-1;o++){const n=t.get(r,o)+t.get(r,o+1)+t.get(r+1,o)+t.get(r+1,o+1);4!==n&&0!==n||e++}return e*r},n.getPenaltyN3=function(t){const n=t.size;let e=0,r=0,i=0;for(let o=0;o<n;o++){r=i=0;for(let u=0;u<n;u++)r=r<<1&2047|t.get(o,u),u>=10&&(1488===r||93===r)&&e++,i=i<<1&2047|t.get(u,o),u>=10&&(1488===i||93===i)&&e++}return e*o},n.getPenaltyN4=function(t){let n=0;const e=t.data.length;for(let r=0;r<e;r++)n+=t.data[r];return Math.abs(Math.ceil(100*n/e/5)-10)*i},n.applyMask=function(t,n){const e=n.size;for(let r=0;r<e;r++)for(let o=0;o<e;o++)n.isReserved(o,r)||n.xor(o,r,u(t,o,r))},n.getBestMask=function(t,e){const r=Object.keys(n.Patterns).length;let o=0,i=1/0;for(let u=0;u<r;u++){e(u),n.applyMask(u,t);const r=n.getPenaltyN1(t)+n.getPenaltyN2(t)+n.getPenaltyN3(t)+n.getPenaltyN4(t);n.applyMask(u,t),r<i&&(i=r,o=u)}return o}}));const tn=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],nn=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];var en=function(t,n){switch(n){case Jt.L:return tn[4*(t-1)+0];case Jt.M:return tn[4*(t-1)+1];case Jt.Q:return tn[4*(t-1)+2];case Jt.H:return tn[4*(t-1)+3];default:return}},rn=function(t,n){switch(n){case Jt.L:return nn[4*(t-1)+0];case Jt.M:return nn[4*(t-1)+1];case Jt.Q:return nn[4*(t-1)+2];case Jt.H:return nn[4*(t-1)+3];default:return}};const on=new Uint8Array(512),un=new Uint8Array(256);!function(){let t=1;for(let n=0;n<255;n++)on[n]=t,un[t]=n,t<<=1,256&t&&(t^=285);for(let t=255;t<512;t++)on[t]=on[t-255]}();var an=function(t){return on[t]},sn=function(t,n){return 0===t||0===n?0:on[un[t]+un[n]]},cn=Mt((function(t,n){n.mul=function(t,n){const e=new Uint8Array(t.length+n.length-1);for(let r=0;r<t.length;r++)for(let o=0;o<n.length;o++)e[r+o]^=sn(t[r],n[o]);return e},n.mod=function(t,n){let e=new Uint8Array(t);for(;e.length-n.length>=0;){const t=e[0];for(let r=0;r<n.length;r++)e[r]^=sn(n[r],t);let r=0;for(;r<e.length&&0===e[r];)r++;e=e.slice(r)}return e},n.generateECPolynomial=function(t){let e=new Uint8Array([1]);for(let r=0;r<t;r++)e=n.mul(e,new Uint8Array([1,an(r)]));return e}}));function ln(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}ln.prototype.initialize=function(t){this.degree=t,this.genPoly=cn.generateECPolynomial(this.degree)},ln.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(t.length+this.degree);n.set(t);const e=cn.mod(n,this.genPoly),r=this.degree-e.length;if(r>0){const t=new Uint8Array(this.degree);return t.set(e,r),t}return e};var fn=ln,hn=function(t){return!isNaN(t)&&t>=1&&t<=40};const dn="[0-9]+";let gn="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";gn=gn.replace(/u/g,"\\u");const pn="(?:(?![A-Z0-9 $%*+\\-./:]|"+gn+")(?:.|[\r\n]))+";var mn=new RegExp(gn,"g"),wn=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),yn=new RegExp(pn,"g"),vn=new RegExp(dn,"g"),xn=new RegExp("[A-Z $%*+\\-./:]+","g");const bn=new RegExp("^"+gn+"$"),En=new RegExp("^"+dn+"$"),$n=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");var An={KANJI:mn,BYTE_KANJI:wn,BYTE:yn,NUMERIC:vn,ALPHANUMERIC:xn,testKanji:function(t){return bn.test(t)},testNumeric:function(t){return En.test(t)},testAlphanumeric:function(t){return $n.test(t)}},Cn=Mt((function(t,n){n.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},n.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},n.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},n.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},n.MIXED={bit:-1},n.getCharCountIndicator=function(t,n){if(!t.ccBits)throw new Error("Invalid mode: "+t);if(!hn(n))throw new Error("Invalid version: "+n);return n>=1&&n<10?t.ccBits[0]:n<27?t.ccBits[1]:t.ccBits[2]},n.getBestModeForData=function(t){return An.testNumeric(t)?n.NUMERIC:An.testAlphanumeric(t)?n.ALPHANUMERIC:An.testKanji(t)?n.KANJI:n.BYTE},n.toString=function(t){if(t&&t.id)return t.id;throw new Error("Invalid mode")},n.isValid=function(t){return t&&t.bit&&t.ccBits},n.from=function(t,e){if(n.isValid(t))return t;try{return function(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"numeric":return n.NUMERIC;case"alphanumeric":return n.ALPHANUMERIC;case"kanji":return n.KANJI;case"byte":return n.BYTE;default:throw new Error("Unknown mode: "+t)}}(t)}catch(t){return e}}})),Pn=Mt((function(t,n){const e=Ot(7973);function r(t,n){return Cn.getCharCountIndicator(t,n)+4}function o(t,n){let e=0;return t.forEach((function(t){const o=r(t.mode,n);e+=o+t.getBitsLength()})),e}n.from=function(t,n){return hn(t)?parseInt(t,10):n},n.getCapacity=function(t,n,e){if(!hn(t))throw new Error("Invalid QR Code version");void 0===e&&(e=Cn.BYTE);const o=8*(Dt(t)-rn(t,n));if(e===Cn.MIXED)return o;const i=o-r(e,t);switch(e){case Cn.NUMERIC:return Math.floor(i/10*3);case Cn.ALPHANUMERIC:return Math.floor(i/11*2);case Cn.KANJI:return Math.floor(i/13);case Cn.BYTE:default:return Math.floor(i/8)}},n.getBestVersionForData=function(t,e){let r;const i=Jt.from(e,Jt.M);if(Array.isArray(t)){if(t.length>1)return function(t,e){for(let r=1;r<=40;r++)if(o(t,r)<=n.getCapacity(r,e,Cn.MIXED))return r}(t,i);if(0===t.length)return 1;r=t[0]}else r=t;return function(t,e,r){for(let o=1;o<=40;o++)if(e<=n.getCapacity(o,r,t))return o}(r.mode,r.getLength(),i)},n.getEncodedBits=function(t){if(!hn(t)||t<7)throw new Error("Invalid QR Code version");let n=t<<12;for(;Ot(n)-e>=0;)n^=7973<<Ot(n)-e;return t<<12|n}}));const Mn=Ot(1335);var Nn=function(t,n){const e=t.bit<<3|n;let r=e<<10;for(;Ot(r)-Mn>=0;)r^=1335<<Ot(r)-Mn;return 21522^(e<<10|r)};function Rn(t){this.mode=Cn.NUMERIC,this.data=t.toString()}Rn.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)},Rn.prototype.getLength=function(){return this.data.length},Rn.prototype.getBitsLength=function(){return Rn.getBitsLength(this.data.length)},Rn.prototype.write=function(t){let n,e,r;for(n=0;n+3<=this.data.length;n+=3)e=this.data.substr(n,3),r=parseInt(e,10),t.put(r,10);const o=this.data.length-n;o>0&&(e=this.data.substr(n),r=parseInt(e,10),t.put(r,3*o+1))};var Bn=Rn;const In=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Tn(t){this.mode=Cn.ALPHANUMERIC,this.data=t}Tn.getBitsLength=function(t){return 11*Math.floor(t/2)+t%2*6},Tn.prototype.getLength=function(){return this.data.length},Tn.prototype.getBitsLength=function(){return Tn.getBitsLength(this.data.length)},Tn.prototype.write=function(t){let n;for(n=0;n+2<=this.data.length;n+=2){let e=45*In.indexOf(this.data[n]);e+=In.indexOf(this.data[n+1]),t.put(e,11)}this.data.length%2&&t.put(In.indexOf(this.data[n]),6)};var kn=Tn;function _n(t){this.mode=Cn.BYTE,this.data="string"==typeof t?(new TextEncoder).encode(t):new Uint8Array(t)}_n.getBitsLength=function(t){return 8*t},_n.prototype.getLength=function(){return this.data.length},_n.prototype.getBitsLength=function(){return _n.getBitsLength(this.data.length)},_n.prototype.write=function(t){for(let n=0,e=this.data.length;n<e;n++)t.put(this.data[n],8)};var Ln=_n;function Sn(t){this.mode=Cn.KANJI,this.data=t}Sn.getBitsLength=function(t){return 13*t},Sn.prototype.getLength=function(){return this.data.length},Sn.prototype.getBitsLength=function(){return Sn.getBitsLength(this.data.length)},Sn.prototype.write=function(t){let n;for(n=0;n<this.data.length;n++){let e=qt(this.data[n]);if(e>=33088&&e<=40956)e-=33088;else{if(!(e>=57408&&e<=60351))throw new Error("Invalid SJIS character: "+this.data[n]+"\nMake sure your charset is UTF-8");e-=49472}e=192*(e>>>8&255)+(255&e),t.put(e,13)}};var Un=Sn,zn=Mt((function(t){var n={single_source_shortest_paths:function(t,e,r){var o={},i={};i[e]=0;var u,a,s,c,l,f,h,d=n.PriorityQueue.make();for(d.push(e,0);!d.empty();)for(s in a=(u=d.pop()).value,c=u.cost,l=t[a]||{})l.hasOwnProperty(s)&&(f=c+l[s],h=i[s],(void 0===i[s]||h>f)&&(i[s]=f,d.push(s,f),o[s]=a));if(void 0!==r&&void 0===i[r]){var g=["Could not find a path from ",e," to ",r,"."].join("");throw new Error(g)}return o},extract_shortest_path_from_predecessor_list:function(t,n){for(var e=[],r=n;r;)e.push(r),t[r],r=t[r];return e.reverse(),e},find_path:function(t,e,r){var o=n.single_source_shortest_paths(t,e,r);return n.extract_shortest_path_from_predecessor_list(o,r)},PriorityQueue:{make:function(t){var e,r=n.PriorityQueue,o={};for(e in t=t||{},r)r.hasOwnProperty(e)&&(o[e]=r[e]);return o.queue=[],o.sorter=t.sorter||r.default_sorter,o},default_sorter:function(t,n){return t.cost-n.cost},push:function(t,n){var e={value:t,cost:n};this.queue.push(e),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};t.exports=n})),Fn=Mt((function(t,n){function e(t){return unescape(encodeURIComponent(t)).length}function r(t,n,e){const r=[];let o;for(;null!==(o=t.exec(e));)r.push({data:o[0],index:o.index,mode:n,length:o[0].length});return r}function o(t){const n=r(An.NUMERIC,Cn.NUMERIC,t),e=r(An.ALPHANUMERIC,Cn.ALPHANUMERIC,t);let o,i;Yt()?(o=r(An.BYTE,Cn.BYTE,t),i=r(An.KANJI,Cn.KANJI,t)):(o=r(An.BYTE_KANJI,Cn.BYTE,t),i=[]);return n.concat(e,o,i).sort((function(t,n){return t.index-n.index})).map((function(t){return{data:t.data,mode:t.mode,length:t.length}}))}function i(t,n){switch(n){case Cn.NUMERIC:return Bn.getBitsLength(t);case Cn.ALPHANUMERIC:return kn.getBitsLength(t);case Cn.KANJI:return Un.getBitsLength(t);case Cn.BYTE:return Ln.getBitsLength(t)}}function u(t,n){let e;const r=Cn.getBestModeForData(t);if(e=Cn.from(n,r),e!==Cn.BYTE&&e.bit<r.bit)throw new Error('"'+t+'" cannot be encoded with mode '+Cn.toString(e)+".\n Suggested mode is: "+Cn.toString(r));switch(e!==Cn.KANJI||Yt()||(e=Cn.BYTE),e){case Cn.NUMERIC:return new Bn(t);case Cn.ALPHANUMERIC:return new kn(t);case Cn.KANJI:return new Un(t);case Cn.BYTE:return new Ln(t)}}n.fromArray=function(t){return t.reduce((function(t,n){return"string"==typeof n?t.push(u(n,null)):n.data&&t.push(u(n.data,n.mode)),t}),[])},n.fromString=function(t,r){const u=function(t){const n=[];for(let r=0;r<t.length;r++){const o=t[r];switch(o.mode){case Cn.NUMERIC:n.push([o,{data:o.data,mode:Cn.ALPHANUMERIC,length:o.length},{data:o.data,mode:Cn.BYTE,length:o.length}]);break;case Cn.ALPHANUMERIC:n.push([o,{data:o.data,mode:Cn.BYTE,length:o.length}]);break;case Cn.KANJI:n.push([o,{data:o.data,mode:Cn.BYTE,length:e(o.data)}]);break;case Cn.BYTE:n.push([{data:o.data,mode:Cn.BYTE,length:e(o.data)}])}}return n}(o(t)),a=function(t,n){const e={},r={start:{}};let o=["start"];for(let u=0;u<t.length;u++){const a=t[u],s=[];for(let t=0;t<a.length;t++){const c=a[t],l=""+u+t;s.push(l),e[l]={node:c,lastCount:0},r[l]={};for(let t=0;t<o.length;t++){const u=o[t];e[u]&&e[u].node.mode===c.mode?(r[u][l]=i(e[u].lastCount+c.length,c.mode)-i(e[u].lastCount,c.mode),e[u].lastCount+=c.length):(e[u]&&(e[u].lastCount=c.length),r[u][l]=i(c.length,c.mode)+4+Cn.getCharCountIndicator(c.mode,n))}}o=s}for(let t=0;t<o.length;t++)r[o[t]].end=0;return{map:r,table:e}}(u,r),s=zn.find_path(a.map,"start","end"),c=[];for(let t=1;t<s.length-1;t++)c.push(a.table[s[t]].node);return n.fromArray(function(t){return t.reduce((function(t,n){const e=t.length-1>=0?t[t.length-1]:null;return e&&e.mode===n.mode?(t[t.length-1].data+=n.data,t):(t.push(n),t)}),[])}(c))},n.rawSplit=function(t){return n.fromArray(o(t))}}));function Dn(t,n,e){const r=t.size,o=Nn(n,e);let i,u;for(i=0;i<15;i++)u=1==(o>>i&1),i<6?t.set(i,8,u,!0):i<8?t.set(i+1,8,u,!0):t.set(r-15+i,8,u,!0),i<8?t.set(8,r-i-1,u,!0):i<9?t.set(8,15-i-1+1,u,!0):t.set(8,15-i-1,u,!0);t.set(r-8,8,1,!0)}function On(t,n,e){const r=new Kt;e.forEach((function(n){r.put(n.mode.bit,4),r.put(n.getLength(),Cn.getCharCountIndicator(n.mode,t)),n.write(r)}));const o=8*(Dt(t)-rn(t,n));for(r.getLengthInBits()+4<=o&&r.put(0,4);r.getLengthInBits()%8!=0;)r.putBit(0);const i=(o-r.getLengthInBits())/8;for(let t=0;t<i;t++)r.put(t%2?17:236,8);return function(t,n,e){const r=Dt(n),o=rn(n,e),i=r-o,u=en(n,e),a=r%u,s=u-a,c=Math.floor(r/u),l=Math.floor(i/u),f=l+1,h=c-l,d=new fn(h);let g=0;const p=new Array(u),m=new Array(u);let w=0;const y=new Uint8Array(t.buffer);for(let t=0;t<u;t++){const n=t<s?l:f;p[t]=y.slice(g,g+n),m[t]=d.encode(p[t]),g+=n,w=Math.max(w,n)}const v=new Uint8Array(r);let x,b,E=0;for(x=0;x<w;x++)for(b=0;b<u;b++)x<p[b].length&&(v[E++]=p[b][x]);for(x=0;x<h;x++)for(b=0;b<u;b++)v[E++]=m[b][x];return v}(r,t,n)}function jn(t,n,e,r){let o;if(Array.isArray(t))o=Fn.fromArray(t);else{if("string"!=typeof t)throw new Error("Invalid data");{let r=n;if(!r){const n=Fn.rawSplit(t);r=Pn.getBestVersionForData(n,e)}o=Fn.fromString(t,r||40)}}const i=Pn.getBestVersionForData(o,e);if(!i)throw new Error("The amount of data is too big to be stored in a QR Code");if(n){if(n<i)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+i+".\n")}else n=i;const u=On(n,e,o),a=Ft(n),s=new Vt(a);return function(t,n){const e=t.size,r=Zt(n);for(let n=0;n<r.length;n++){const o=r[n][0],i=r[n][1];for(let n=-1;n<=7;n++)if(!(o+n<=-1||e<=o+n))for(let r=-1;r<=7;r++)i+r<=-1||e<=i+r||(n>=0&&n<=6&&(0===r||6===r)||r>=0&&r<=6&&(0===n||6===n)||n>=2&&n<=4&&r>=2&&r<=4?t.set(o+n,i+r,!0,!0):t.set(o+n,i+r,!1,!0))}}(s,n),function(t){const n=t.size;for(let e=8;e<n-8;e++){const n=e%2==0;t.set(e,6,n,!0),t.set(6,e,n,!0)}}(s),function(t,n){const e=Xt.getPositions(n);for(let n=0;n<e.length;n++){const r=e[n][0],o=e[n][1];for(let n=-2;n<=2;n++)for(let e=-2;e<=2;e++)-2===n||2===n||-2===e||2===e||0===n&&0===e?t.set(r+n,o+e,!0,!0):t.set(r+n,o+e,!1,!0)}}(s,n),Dn(s,e,0),n>=7&&function(t,n){const e=t.size,r=Pn.getEncodedBits(n);let o,i,u;for(let n=0;n<18;n++)o=Math.floor(n/3),i=n%3+e-8-3,u=1==(r>>n&1),t.set(o,i,u,!0),t.set(i,o,u,!0)}(s,n),function(t,n){const e=t.size;let r=-1,o=e-1,i=7,u=0;for(let a=e-1;a>0;a-=2)for(6===a&&a--;;){for(let e=0;e<2;e++)if(!t.isReserved(o,a-e)){let r=!1;u<n.length&&(r=1==(n[u]>>>i&1)),t.set(o,a-e,r),i--,-1===i&&(u++,i=7)}if(o+=r,o<0||e<=o){o-=r,r=-r;break}}}(s,u),isNaN(r)&&(r=Gt.getBestMask(s,Dn.bind(null,s,e))),Gt.applyMask(r,s),Dn(s,e,r),{modules:s,version:n,errorCorrectionLevel:e,maskPattern:r,segments:o}}var Yn=function(t,n){if(void 0===t||""===t)throw new Error("No input text");let e,r,o=Jt.M;return void 0!==n&&(o=Jt.from(n.errorCorrectionLevel,Jt.M),e=Pn.from(n.version),r=Gt.from(n.maskPattern),n.toSJISFunc&&jt(n.toSJISFunc)),jn(t,e,o,r)},qn=Mt((function(t,n){function e(t){if("number"==typeof t&&(t=t.toString()),"string"!=typeof t)throw new Error("Color should be defined as hex string");let n=t.slice().replace("#","").split("");if(n.length<3||5===n.length||n.length>8)throw new Error("Invalid hex color: "+t);3!==n.length&&4!==n.length||(n=Array.prototype.concat.apply([],n.map((function(t){return[t,t]})))),6===n.length&&n.push("F","F");const e=parseInt(n.join(""),16);return{r:e>>24&255,g:e>>16&255,b:e>>8&255,a:255&e,hex:"#"+n.slice(0,6).join("")}}n.getOptions=function(t){t||(t={}),t.color||(t.color={});const n=void 0===t.margin||null===t.margin||t.margin<0?4:t.margin,r=t.width&&t.width>=21?t.width:void 0,o=t.scale||4;return{width:r,scale:r?4:o,margin:n,color:{dark:e(t.color.dark||"#000000ff"),light:e(t.color.light||"#ffffffff")},type:t.type,rendererOpts:t.rendererOpts||{}}},n.getScale=function(t,n){return n.width&&n.width>=t+2*n.margin?n.width/(t+2*n.margin):n.scale},n.getImageWidth=function(t,e){const r=n.getScale(t,e);return Math.floor((t+2*e.margin)*r)},n.qrToImageData=function(t,e,r){const o=e.modules.size,i=e.modules.data,u=n.getScale(o,r),a=Math.floor((o+2*r.margin)*u),s=r.margin*u,c=[r.color.light,r.color.dark];for(let n=0;n<a;n++)for(let e=0;e<a;e++){let l=4*(n*a+e),f=r.color.light;if(n>=s&&e>=s&&n<a-s&&e<a-s){f=c[i[Math.floor((n-s)/u)*o+Math.floor((e-s)/u)]?1:0]}t[l++]=f.r,t[l++]=f.g,t[l++]=f.b,t[l]=f.a}}})),Jn=Mt((function(t,n){n.render=function(t,n,e){let r=e,o=n;void 0!==r||n&&n.getContext||(r=n,n=void 0),n||(o=function(){try{return document.createElement("canvas")}catch(t){throw new Error("You need to specify a canvas element")}}()),r=qn.getOptions(r);const i=qn.getImageWidth(t.modules.size,r),u=o.getContext("2d"),a=u.createImageData(i,i);return qn.qrToImageData(a.data,t,r),function(t,n,e){t.clearRect(0,0,n.width,n.height),n.style||(n.style={}),n.height=e,n.width=e,n.style.height=e+"px",n.style.width=e+"px"}(u,o,i),u.putImageData(a,0,0),o},n.renderToDataURL=function(t,e,r){let o=r;void 0!==o||e&&e.getContext||(o=e,e=void 0),o||(o={});const i=n.render(t,e,o),u=o.type||"image/png",a=o.rendererOpts||{};return i.toDataURL(u,a.quality)}}));function Hn(t,n){const e=t.a/255,r=n+'="'+t.hex+'"';return e<1?r+" "+n+'-opacity="'+e.toFixed(2).slice(1)+'"':r}function Kn(t,n,e){let r=t+n;return void 0!==e&&(r+=" "+e),r}var Qn=function(t,n,e){const r=qn.getOptions(n),o=t.modules.size,i=t.modules.data,u=o+2*r.margin,a=r.color.light.a?"<path "+Hn(r.color.light,"fill")+' d="M0 0h'+u+"v"+u+'H0z"/>':"",s="<path "+Hn(r.color.dark,"stroke")+' d="'+function(t,n,e){let r="",o=0,i=!1,u=0;for(let a=0;a<t.length;a++){const s=Math.floor(a%n),c=Math.floor(a/n);s||i||(i=!0),t[a]?(u++,a>0&&s>0&&t[a-1]||(r+=i?Kn("M",s+e,.5+c+e):Kn("m",o,0),o=0,i=!1),s+1<n&&t[a+1]||(r+=Kn("h",u),u=0)):o++}return r}(i,o,r.margin)+'"/>',c='viewBox="0 0 '+u+" "+u+'"',l='<svg xmlns="http://www.w3.org/2000/svg" '+(r.width?'width="'+r.width+'" height="'+r.width+'" ':"")+c+' shape-rendering="crispEdges">'+a+s+"</svg>\n";return"function"==typeof e&&e(null,l),l};function Vn(t,n,e,r,o){const i=[].slice.call(arguments,1),u=i.length,a="function"==typeof i[u-1];if(!(a||"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then))throw new Error("Callback required as last argument");if(!a){if(u<1)throw new Error("Too few arguments provided");return 1===u?(e=n,n=r=void 0):2!==u||n.getContext||(r=e,e=n,n=void 0),new Promise((function(o,i){try{const i=Yn(e,r);o(t(i,n,r))}catch(t){i(t)}}))}if(u<2)throw new Error("Too few arguments provided");2===u?(o=e,e=n,n=r=void 0):3===u&&(n.getContext&&void 0===o?(o=r,r=void 0):(o=r,r=e,e=n,n=void 0));try{const i=Yn(e,r);o(null,t(i,n,r))}catch(t){o(t)}}var Xn={create:Yn,toCanvas:Vn.bind(null,Jn.render),toDataURL:Vn.bind(null,Jn.renderToDataURL),toString:Vn.bind(null,(function(t,n,e){return Qn(t,e)}))};function Wn(t,n,e){const r=t.slice();return r[7]=n[e],r}function Zn(t){let n,e;return n=new At({props:{gameState:t[1]}}),{c(){et(n.$$.fragment)},m(t,r){rt(n,t,r),e=!0},p(t,e){const r={};2&e&&(r.gameState=t[1]),n.$set(r)},i(t){e||(W(n.$$.fragment,t),e=!0)},o(t){Z(n.$$.fragment,t),e=!1},d(t){ot(n,t)}}}function Gn(n){let e,r,o,i=n[0].players,u=[];for(let t=0;t<i.length;t+=1)u[t]=ne(Wn(n,i,t));return{c(){e=w("h2"),e.textContent="Select your player:",r=v();for(let t=0;t<u.length;t+=1)u[t].c();o=x()},m(t,n){p(t,e,n),p(t,r,n);for(let e=0;e<u.length;e+=1)u[e]&&u[e].m(t,n);p(t,o,n)},p(t,n){if(33&n){let e;for(i=t[0].players,e=0;e<i.length;e+=1){const r=Wn(t,i,e);u[e]?u[e].p(r,n):(u[e]=ne(r),u[e].c(),u[e].m(o.parentNode,o))}for(;e<u.length;e+=1)u[e].d(1);u.length=i.length}},i:t,o:t,d(t){t&&m(e),t&&m(r),function(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}(u,t),t&&m(o)}}}function te(t){let n,e,r,o;n=new pt({}),n.$on("gameStart",t[4]);let i=t[3]&&ee(t);return{c(){et(n.$$.fragment),e=v(),i&&i.c(),r=x()},m(t,u){rt(n,t,u),p(t,e,u),i&&i.m(t,u),p(t,r,u),o=!0},p(t,n){t[3]?i?i.p(t,n):(i=ee(t),i.c(),i.m(r.parentNode,r)):i&&(i.d(1),i=null)},i(t){o||(W(n.$$.fragment,t),o=!0)},o(t){Z(n.$$.fragment,t),o=!1},d(t){ot(n,t),t&&m(e),i&&i.d(t),t&&m(r)}}}function ne(t){let n,e,r,o,i=t[7]+"";function u(){return t[6](t[7])}return{c(){n=w("button"),e=y(i)},m(t,i){p(t,n,i),h(n,e),r||(o=b(n,"click",u),r=!0)},p(n,r){t=n,1&r&&i!==(i=t[7]+"")&&$(e,i)},d(t){t&&m(n),r=!1,o()}}}function ee(t){let n,e,r,o,i,u,a;return{c(){n=w("canvas"),e=v(),r=w("div"),o=w("p"),o.textContent="Or share this link:",i=v(),u=w("a"),a=y(t[2]),E(n,"id","qrcode"),E(u,"href",t[2]),E(u,"target","_blank"),E(u,"rel","noopener noreferrer"),E(u,"class","svelte-z60wtl"),E(r,"class","game-link svelte-z60wtl")},m(t,s){p(t,n,s),p(t,e,s),p(t,r,s),h(r,o),h(r,i),h(r,u),h(u,a)},p(t,n){4&n&&$(a,t[2]),4&n&&E(u,"href",t[2])},d(t){t&&m(n),t&&m(e),t&&m(r)}}}function re(t){let n,e,r,o;const i=[te,Gn,Zn],u=[];function a(t,n){return t[0]?t[1].currentPlayer?2:1:0}return e=a(t),r=u[e]=i[e](t),{c(){n=w("main"),r.c(),E(n,"class","svelte-z60wtl")},m(t,r){p(t,n,r),u[e].m(n,null),o=!0},p(t,[o]){let s=e;e=a(t),e===s?u[e].p(t,o):(V(),Z(u[s],1,1,(()=>{u[s]=null})),X(),r=u[e],r?r.p(t,o):(r=u[e]=i[e](t),r.c()),W(r,1),r.m(n,null))},i(t){o||(W(r),o=!0)},o(t){Z(r),o=!1},d(t){t&&m(n),u[e].d()}}}function oe(t,n,e){let r=null,o=null,i="",u=!1;function a(t){e(1,o.currentPlayer=t,o)}k((()=>{const t=new URLSearchParams(window.location.search).get("config");if(t)try{if(e(0,r=JSON.parse(atob(t))),!Array.isArray(r.players))throw new Error("Invalid game configuration");const n=St(r.timestamp.toString());e(1,o={currentPlayer:null,config:r,currentRound:0,rng:n})}catch(t){console.error("Failed to parse game configuration:",t),e(0,r=null),e(1,o=null)}}));return[r,o,i,u,function(t){const n=t.detail,a=Date.now();e(0,r={...n,timestamp:a});const s=St(a.toString());e(1,o={currentPlayer:null,config:r,currentRound:0,rng:s});const c=btoa(JSON.stringify(r));e(2,i=`${window.location.origin}${window.location.pathname}?config=${c}`),Xn.toCanvas(document.getElementById("qrcode"),i,{width:300},(t=>{t&&console.error(t),console.log("QR code generated"),e(3,u=!0)}))},a,t=>a(t)]}return new class extends at{constructor(t){super(),ut(this,t,oe,re,u,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
