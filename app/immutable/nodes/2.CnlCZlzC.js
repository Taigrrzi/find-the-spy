import{r as Pt,h as Je,y as le,s as At,o as Se,n as Z,f as _t,z as Et,A as ae}from"../chunks/scheduler.BX2x-Afv.js";import{l as q,n as K,S as Rt,i as Lt,e as E,s as z,k as ft,c as k,y as F,f as U,o as S,g as P,z as $,q as yt,m as wt,d as w,t as J,a as L,b as Y,h as b,A as Bt,B as X,j as et,C as ue,D as ce,p as nt,u as Gt,v as Qt,w as Wt,x as Zt,E as Ye}from"../chunks/index.BLsvc_M2.js";import{b as Ne}from"../chunks/paths.BMIDymYN.js";function ct(r){return(r==null?void 0:r.length)!==void 0?r:Array.from(r)}function Ge(r,t){r.d(1),t.delete(r.key)}function Qe(r,t){q(r,1,1,()=>{t.delete(r.key)})}function fe(r,t,n,e,o,i,s,l,a,u,f,v){let h=r.length,d=i.length,_=h;const g={};for(;_--;)g[r[_].key]=_;const p=[],c=new Map,m=new Map,y=[];for(_=d;_--;){const N=v(o,i,_),A=n(N);let D=s.get(A);D?y.push(()=>D.p(N,t)):(D=u(A,N),D.c()),c.set(A,p[_]=D),A in g&&m.set(A,Math.abs(_-g[A]))}const C=new Set,T=new Set;function R(N){K(N,1),N.m(l,f),s.set(N.key,N),f=N.first,d--}for(;h&&d;){const N=p[d-1],A=r[h-1],D=N.key,H=A.key;N===A?(f=N.first,h--,d--):c.has(H)?!s.has(D)||C.has(D)?R(N):T.has(H)?h--:m.get(D)>m.get(H)?(T.add(D),R(N)):(C.add(H),h--):(a(A,s),h--)}for(;h--;){const N=r[h];c.has(N.key)||a(N,s)}for(;d;)R(p[d-1]);return Pt(y),p}const We=!0,Ze="always",yo=Object.freeze(Object.defineProperty({__proto__:null,prerender:We,trailingSlash:Ze},Symbol.toStringTag,{value:"Module"}));function Ie(r){const t=r-1;return t*t*t+1}function de(r,{delay:t=0,duration:n=400,easing:e=Je}={}){const o=+getComputedStyle(r).opacity;return{delay:t,duration:n,easing:e,css:i=>`opacity: ${i*o}`}}function St(r,{delay:t=0,duration:n=400,easing:e=Ie,x:o=0,y:i=0,opacity:s=0}={}){const l=getComputedStyle(r),a=+l.opacity,u=l.transform==="none"?"":l.transform,f=a*(1-s),[v,h]=le(o),[d,_]=le(i);return{delay:t,duration:n,easing:e,css:(g,p)=>`
			transform: ${u} translate(${(1-g)*v}${h}, ${(1-g)*d}${_});
			opacity: ${a-f*p}`}}function Nt(r,{delay:t=0,duration:n=400,easing:e=Ie,axis:o="y"}={}){const i=getComputedStyle(r),s=+i.opacity,l=o==="y"?"height":"width",a=parseFloat(i[l]),u=o==="y"?["top","bottom"]:["left","right"],f=u.map(c=>`${c[0].toUpperCase()}${c.slice(1)}`),v=parseFloat(i[`padding${f[0]}`]),h=parseFloat(i[`padding${f[1]}`]),d=parseFloat(i[`margin${f[0]}`]),_=parseFloat(i[`margin${f[1]}`]),g=parseFloat(i[`border${f[0]}Width`]),p=parseFloat(i[`border${f[1]}Width`]);return{delay:t,duration:n,easing:e,css:c=>`overflow: hidden;opacity: ${Math.min(c*20,1)*s};${l}: ${c*a}px;padding-${u[0]}: ${c*v}px;padding-${u[1]}: ${c*h}px;margin-${u[0]}: ${c*d}px;margin-${u[1]}: ${c*_}px;border-${u[0]}-width: ${c*g}px;border-${u[1]}-width: ${c*p}px;`}}var vt={},Xe=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},Me={},G={};let Xt;const xe=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];G.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};G.getSymbolTotalCodewords=function(t){return xe[t]};G.getBCHDigit=function(r){let t=0;for(;r!==0;)t++,r>>>=1;return t};G.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');Xt=t};G.isKanjiModeEnabled=function(){return typeof Xt<"u"};G.toSJIS=function(t){return Xt(t)};var zt={};(function(r){r.L={bit:1},r.M={bit:0},r.Q={bit:3},r.H={bit:2};function t(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return r.L;case"m":case"medium":return r.M;case"q":case"quartile":return r.Q;case"h":case"high":return r.H;default:throw new Error("Unknown EC Level: "+n)}}r.isValid=function(e){return e&&typeof e.bit<"u"&&e.bit>=0&&e.bit<4},r.from=function(e,o){if(r.isValid(e))return e;try{return t(e)}catch{return o}}})(zt);function Pe(){this.buffer=[],this.length=0}Pe.prototype={get:function(r){const t=Math.floor(r/8);return(this.buffer[t]>>>7-r%8&1)===1},put:function(r,t){for(let n=0;n<t;n++)this.putBit((r>>>t-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(r){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),r&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var tn=Pe;function bt(r){if(!r||r<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=r,this.data=new Uint8Array(r*r),this.reservedBit=new Uint8Array(r*r)}bt.prototype.set=function(r,t,n,e){const o=r*this.size+t;this.data[o]=n,e&&(this.reservedBit[o]=!0)};bt.prototype.get=function(r,t){return this.data[r*this.size+t]};bt.prototype.xor=function(r,t,n){this.data[r*this.size+t]^=n};bt.prototype.isReserved=function(r,t){return this.reservedBit[r*this.size+t]};var en=bt,Ae={};(function(r){const t=G.getSymbolSize;r.getRowColCoords=function(e){if(e===1)return[];const o=Math.floor(e/7)+2,i=t(e),s=i===145?26:Math.ceil((i-13)/(2*o-2))*2,l=[i-7];for(let a=1;a<o-1;a++)l[a]=l[a-1]-s;return l.push(6),l.reverse()},r.getPositions=function(e){const o=[],i=r.getRowColCoords(e),s=i.length;for(let l=0;l<s;l++)for(let a=0;a<s;a++)l===0&&a===0||l===0&&a===s-1||l===s-1&&a===0||o.push([i[l],i[a]]);return o}})(Ae);var Re={};const nn=G.getSymbolSize,he=7;Re.getPositions=function(t){const n=nn(t);return[[0,0],[n-he,0],[0,n-he]]};var Le={};(function(r){r.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};r.isValid=function(o){return o!=null&&o!==""&&!isNaN(o)&&o>=0&&o<=7},r.from=function(o){return r.isValid(o)?parseInt(o,10):void 0},r.getPenaltyN1=function(o){const i=o.size;let s=0,l=0,a=0,u=null,f=null;for(let v=0;v<i;v++){l=a=0,u=f=null;for(let h=0;h<i;h++){let d=o.get(v,h);d===u?l++:(l>=5&&(s+=t.N1+(l-5)),u=d,l=1),d=o.get(h,v),d===f?a++:(a>=5&&(s+=t.N1+(a-5)),f=d,a=1)}l>=5&&(s+=t.N1+(l-5)),a>=5&&(s+=t.N1+(a-5))}return s},r.getPenaltyN2=function(o){const i=o.size;let s=0;for(let l=0;l<i-1;l++)for(let a=0;a<i-1;a++){const u=o.get(l,a)+o.get(l,a+1)+o.get(l+1,a)+o.get(l+1,a+1);(u===4||u===0)&&s++}return s*t.N2},r.getPenaltyN3=function(o){const i=o.size;let s=0,l=0,a=0;for(let u=0;u<i;u++){l=a=0;for(let f=0;f<i;f++)l=l<<1&2047|o.get(u,f),f>=10&&(l===1488||l===93)&&s++,a=a<<1&2047|o.get(f,u),f>=10&&(a===1488||a===93)&&s++}return s*t.N3},r.getPenaltyN4=function(o){let i=0;const s=o.data.length;for(let a=0;a<s;a++)i+=o.data[a];return Math.abs(Math.ceil(i*100/s/5)-10)*t.N4};function n(e,o,i){switch(e){case r.Patterns.PATTERN000:return(o+i)%2===0;case r.Patterns.PATTERN001:return o%2===0;case r.Patterns.PATTERN010:return i%3===0;case r.Patterns.PATTERN011:return(o+i)%3===0;case r.Patterns.PATTERN100:return(Math.floor(o/2)+Math.floor(i/3))%2===0;case r.Patterns.PATTERN101:return o*i%2+o*i%3===0;case r.Patterns.PATTERN110:return(o*i%2+o*i%3)%2===0;case r.Patterns.PATTERN111:return(o*i%3+(o+i)%2)%2===0;default:throw new Error("bad maskPattern:"+e)}}r.applyMask=function(o,i){const s=i.size;for(let l=0;l<s;l++)for(let a=0;a<s;a++)i.isReserved(a,l)||i.xor(a,l,n(o,a,l))},r.getBestMask=function(o,i){const s=Object.keys(r.Patterns).length;let l=0,a=1/0;for(let u=0;u<s;u++){i(u),r.applyMask(u,o);const f=r.getPenaltyN1(o)+r.getPenaltyN2(o)+r.getPenaltyN3(o)+r.getPenaltyN4(o);r.applyMask(u,o),f<a&&(a=f,l=u)}return l}})(Le);var Ut={};const ot=zt,kt=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Tt=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Ut.getBlocksCount=function(t,n){switch(n){case ot.L:return kt[(t-1)*4+0];case ot.M:return kt[(t-1)*4+1];case ot.Q:return kt[(t-1)*4+2];case ot.H:return kt[(t-1)*4+3];default:return}};Ut.getTotalCodewordsCount=function(t,n){switch(n){case ot.L:return Tt[(t-1)*4+0];case ot.M:return Tt[(t-1)*4+1];case ot.Q:return Tt[(t-1)*4+2];case ot.H:return Tt[(t-1)*4+3];default:return}};var ze={},Dt={};const pt=new Uint8Array(512),It=new Uint8Array(256);(function(){let t=1;for(let n=0;n<255;n++)pt[n]=t,It[t]=n,t<<=1,t&256&&(t^=285);for(let n=255;n<512;n++)pt[n]=pt[n-255]})();Dt.log=function(t){if(t<1)throw new Error("log("+t+")");return It[t]};Dt.exp=function(t){return pt[t]};Dt.mul=function(t,n){return t===0||n===0?0:pt[It[t]+It[n]]};(function(r){const t=Dt;r.mul=function(e,o){const i=new Uint8Array(e.length+o.length-1);for(let s=0;s<e.length;s++)for(let l=0;l<o.length;l++)i[s+l]^=t.mul(e[s],o[l]);return i},r.mod=function(e,o){let i=new Uint8Array(e);for(;i.length-o.length>=0;){const s=i[0];for(let a=0;a<o.length;a++)i[a]^=t.mul(o[a],s);let l=0;for(;l<i.length&&i[l]===0;)l++;i=i.slice(l)}return i},r.generateECPolynomial=function(e){let o=new Uint8Array([1]);for(let i=0;i<e;i++)o=r.mul(o,new Uint8Array([1,t.exp(i)]));return o}})(ze);const Ue=ze;function xt(r){this.genPoly=void 0,this.degree=r,this.degree&&this.initialize(this.degree)}xt.prototype.initialize=function(t){this.degree=t,this.genPoly=Ue.generateECPolynomial(this.degree)};xt.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(t.length+this.degree);n.set(t);const e=Ue.mod(n,this.genPoly),o=this.degree-e.length;if(o>0){const i=new Uint8Array(this.degree);return i.set(e,o),i}return e};var on=xt,De={},rt={},te={};te.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var x={};const Fe="[0-9]+",rn="[A-Z $%*+\\-./:]+";let Ct="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Ct=Ct.replace(/u/g,"\\u");const sn="(?:(?![A-Z0-9 $%*+\\-./:]|"+Ct+`)(?:.|[\r
]))+`;x.KANJI=new RegExp(Ct,"g");x.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");x.BYTE=new RegExp(sn,"g");x.NUMERIC=new RegExp(Fe,"g");x.ALPHANUMERIC=new RegExp(rn,"g");const ln=new RegExp("^"+Ct+"$"),an=new RegExp("^"+Fe+"$"),un=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");x.testKanji=function(t){return ln.test(t)};x.testNumeric=function(t){return an.test(t)};x.testAlphanumeric=function(t){return un.test(t)};(function(r){const t=te,n=x;r.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},r.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},r.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},r.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},r.MIXED={bit:-1},r.getCharCountIndicator=function(i,s){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!t.isValid(s))throw new Error("Invalid version: "+s);return s>=1&&s<10?i.ccBits[0]:s<27?i.ccBits[1]:i.ccBits[2]},r.getBestModeForData=function(i){return n.testNumeric(i)?r.NUMERIC:n.testAlphanumeric(i)?r.ALPHANUMERIC:n.testKanji(i)?r.KANJI:r.BYTE},r.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},r.isValid=function(i){return i&&i.bit&&i.ccBits};function e(o){if(typeof o!="string")throw new Error("Param is not a string");switch(o.toLowerCase()){case"numeric":return r.NUMERIC;case"alphanumeric":return r.ALPHANUMERIC;case"kanji":return r.KANJI;case"byte":return r.BYTE;default:throw new Error("Unknown mode: "+o)}}r.from=function(i,s){if(r.isValid(i))return i;try{return e(i)}catch{return s}}})(rt);(function(r){const t=G,n=Ut,e=zt,o=rt,i=te,s=7973,l=t.getBCHDigit(s);function a(h,d,_){for(let g=1;g<=40;g++)if(d<=r.getCapacity(g,_,h))return g}function u(h,d){return o.getCharCountIndicator(h,d)+4}function f(h,d){let _=0;return h.forEach(function(g){const p=u(g.mode,d);_+=p+g.getBitsLength()}),_}function v(h,d){for(let _=1;_<=40;_++)if(f(h,_)<=r.getCapacity(_,d,o.MIXED))return _}r.from=function(d,_){return i.isValid(d)?parseInt(d,10):_},r.getCapacity=function(d,_,g){if(!i.isValid(d))throw new Error("Invalid QR Code version");typeof g>"u"&&(g=o.BYTE);const p=t.getSymbolTotalCodewords(d),c=n.getTotalCodewordsCount(d,_),m=(p-c)*8;if(g===o.MIXED)return m;const y=m-u(g,d);switch(g){case o.NUMERIC:return Math.floor(y/10*3);case o.ALPHANUMERIC:return Math.floor(y/11*2);case o.KANJI:return Math.floor(y/13);case o.BYTE:default:return Math.floor(y/8)}},r.getBestVersionForData=function(d,_){let g;const p=e.from(_,e.M);if(Array.isArray(d)){if(d.length>1)return v(d,p);if(d.length===0)return 1;g=d[0]}else g=d;return a(g.mode,g.getLength(),p)},r.getEncodedBits=function(d){if(!i.isValid(d)||d<7)throw new Error("Invalid QR Code version");let _=d<<12;for(;t.getBCHDigit(_)-l>=0;)_^=s<<t.getBCHDigit(_)-l;return d<<12|_}})(De);var He={};const Kt=G,Ve=1335,cn=21522,ge=Kt.getBCHDigit(Ve);He.getEncodedBits=function(t,n){const e=t.bit<<3|n;let o=e<<10;for(;Kt.getBCHDigit(o)-ge>=0;)o^=Ve<<Kt.getBCHDigit(o)-ge;return(e<<10|o)^cn};var $e={};const fn=rt;function dt(r){this.mode=fn.NUMERIC,this.data=r.toString()}dt.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};dt.prototype.getLength=function(){return this.data.length};dt.prototype.getBitsLength=function(){return dt.getBitsLength(this.data.length)};dt.prototype.write=function(t){let n,e,o;for(n=0;n+3<=this.data.length;n+=3)e=this.data.substr(n,3),o=parseInt(e,10),t.put(o,10);const i=this.data.length-n;i>0&&(e=this.data.substr(n),o=parseInt(e,10),t.put(o,i*3+1))};var dn=dt;const hn=rt,Ht=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function ht(r){this.mode=hn.ALPHANUMERIC,this.data=r}ht.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};ht.prototype.getLength=function(){return this.data.length};ht.prototype.getBitsLength=function(){return ht.getBitsLength(this.data.length)};ht.prototype.write=function(t){let n;for(n=0;n+2<=this.data.length;n+=2){let e=Ht.indexOf(this.data[n])*45;e+=Ht.indexOf(this.data[n+1]),t.put(e,11)}this.data.length%2&&t.put(Ht.indexOf(this.data[n]),6)};var gn=ht;const mn=rt;function gt(r){this.mode=mn.BYTE,typeof r=="string"?this.data=new TextEncoder().encode(r):this.data=new Uint8Array(r)}gt.getBitsLength=function(t){return t*8};gt.prototype.getLength=function(){return this.data.length};gt.prototype.getBitsLength=function(){return gt.getBitsLength(this.data.length)};gt.prototype.write=function(r){for(let t=0,n=this.data.length;t<n;t++)r.put(this.data[t],8)};var pn=gt;const _n=rt,yn=G;function mt(r){this.mode=_n.KANJI,this.data=r}mt.getBitsLength=function(t){return t*13};mt.prototype.getLength=function(){return this.data.length};mt.prototype.getBitsLength=function(){return mt.getBitsLength(this.data.length)};mt.prototype.write=function(r){let t;for(t=0;t<this.data.length;t++){let n=yn.toSJIS(this.data[t]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),r.put(n,13)}};var wn=mt,Oe={exports:{}};(function(r){var t={single_source_shortest_paths:function(n,e,o){var i={},s={};s[e]=0;var l=t.PriorityQueue.make();l.push(e,0);for(var a,u,f,v,h,d,_,g,p;!l.empty();){a=l.pop(),u=a.value,v=a.cost,h=n[u]||{};for(f in h)h.hasOwnProperty(f)&&(d=h[f],_=v+d,g=s[f],p=typeof s[f]>"u",(p||g>_)&&(s[f]=_,l.push(f,_),i[f]=u))}if(typeof o<"u"&&typeof s[o]>"u"){var c=["Could not find a path from ",e," to ",o,"."].join("");throw new Error(c)}return i},extract_shortest_path_from_predecessor_list:function(n,e){for(var o=[],i=e;i;)o.push(i),n[i],i=n[i];return o.reverse(),o},find_path:function(n,e,o){var i=t.single_source_shortest_paths(n,e,o);return t.extract_shortest_path_from_predecessor_list(i,o)},PriorityQueue:{make:function(n){var e=t.PriorityQueue,o={},i;n=n||{};for(i in e)e.hasOwnProperty(i)&&(o[i]=e[i]);return o.queue=[],o.sorter=n.sorter||e.default_sorter,o},default_sorter:function(n,e){return n.cost-e.cost},push:function(n,e){var o={value:n,cost:e};this.queue.push(o),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};r.exports=t})(Oe);var Cn=Oe.exports;(function(r){const t=rt,n=dn,e=gn,o=pn,i=wn,s=x,l=G,a=Cn;function u(c){return unescape(encodeURIComponent(c)).length}function f(c,m,y){const C=[];let T;for(;(T=c.exec(y))!==null;)C.push({data:T[0],index:T.index,mode:m,length:T[0].length});return C}function v(c){const m=f(s.NUMERIC,t.NUMERIC,c),y=f(s.ALPHANUMERIC,t.ALPHANUMERIC,c);let C,T;return l.isKanjiModeEnabled()?(C=f(s.BYTE,t.BYTE,c),T=f(s.KANJI,t.KANJI,c)):(C=f(s.BYTE_KANJI,t.BYTE,c),T=[]),m.concat(y,C,T).sort(function(N,A){return N.index-A.index}).map(function(N){return{data:N.data,mode:N.mode,length:N.length}})}function h(c,m){switch(m){case t.NUMERIC:return n.getBitsLength(c);case t.ALPHANUMERIC:return e.getBitsLength(c);case t.KANJI:return i.getBitsLength(c);case t.BYTE:return o.getBitsLength(c)}}function d(c){return c.reduce(function(m,y){const C=m.length-1>=0?m[m.length-1]:null;return C&&C.mode===y.mode?(m[m.length-1].data+=y.data,m):(m.push(y),m)},[])}function _(c){const m=[];for(let y=0;y<c.length;y++){const C=c[y];switch(C.mode){case t.NUMERIC:m.push([C,{data:C.data,mode:t.ALPHANUMERIC,length:C.length},{data:C.data,mode:t.BYTE,length:C.length}]);break;case t.ALPHANUMERIC:m.push([C,{data:C.data,mode:t.BYTE,length:C.length}]);break;case t.KANJI:m.push([C,{data:C.data,mode:t.BYTE,length:u(C.data)}]);break;case t.BYTE:m.push([{data:C.data,mode:t.BYTE,length:u(C.data)}])}}return m}function g(c,m){const y={},C={start:{}};let T=["start"];for(let R=0;R<c.length;R++){const N=c[R],A=[];for(let D=0;D<N.length;D++){const H=N[D],W=""+R+D;A.push(W),y[W]={node:H,lastCount:0},C[W]={};for(let j=0;j<T.length;j++){const B=T[j];y[B]&&y[B].node.mode===H.mode?(C[B][W]=h(y[B].lastCount+H.length,H.mode)-h(y[B].lastCount,H.mode),y[B].lastCount+=H.length):(y[B]&&(y[B].lastCount=H.length),C[B][W]=h(H.length,H.mode)+4+t.getCharCountIndicator(H.mode,m))}}T=A}for(let R=0;R<T.length;R++)C[T[R]].end=0;return{map:C,table:y}}function p(c,m){let y;const C=t.getBestModeForData(c);if(y=t.from(m,C),y!==t.BYTE&&y.bit<C.bit)throw new Error('"'+c+'" cannot be encoded with mode '+t.toString(y)+`.
 Suggested mode is: `+t.toString(C));switch(y===t.KANJI&&!l.isKanjiModeEnabled()&&(y=t.BYTE),y){case t.NUMERIC:return new n(c);case t.ALPHANUMERIC:return new e(c);case t.KANJI:return new i(c);case t.BYTE:return new o(c)}}r.fromArray=function(m){return m.reduce(function(y,C){return typeof C=="string"?y.push(p(C,null)):C.data&&y.push(p(C.data,C.mode)),y},[])},r.fromString=function(m,y){const C=v(m,l.isKanjiModeEnabled()),T=_(C),R=g(T,y),N=a.find_path(R.map,"start","end"),A=[];for(let D=1;D<N.length-1;D++)A.push(R.table[N[D]].node);return r.fromArray(d(A))},r.rawSplit=function(m){return r.fromArray(v(m,l.isKanjiModeEnabled()))}})($e);const Ft=G,Vt=zt,vn=tn,bn=en,En=Ae,kn=Re,qt=Le,Jt=Ut,Tn=on,Mt=De,Bn=He,Sn=rt,$t=$e;function Nn(r,t){const n=r.size,e=kn.getPositions(t);for(let o=0;o<e.length;o++){const i=e[o][0],s=e[o][1];for(let l=-1;l<=7;l++)if(!(i+l<=-1||n<=i+l))for(let a=-1;a<=7;a++)s+a<=-1||n<=s+a||(l>=0&&l<=6&&(a===0||a===6)||a>=0&&a<=6&&(l===0||l===6)||l>=2&&l<=4&&a>=2&&a<=4?r.set(i+l,s+a,!0,!0):r.set(i+l,s+a,!1,!0))}}function In(r){const t=r.size;for(let n=8;n<t-8;n++){const e=n%2===0;r.set(n,6,e,!0),r.set(6,n,e,!0)}}function Mn(r,t){const n=En.getPositions(t);for(let e=0;e<n.length;e++){const o=n[e][0],i=n[e][1];for(let s=-2;s<=2;s++)for(let l=-2;l<=2;l++)s===-2||s===2||l===-2||l===2||s===0&&l===0?r.set(o+s,i+l,!0,!0):r.set(o+s,i+l,!1,!0)}}function Pn(r,t){const n=r.size,e=Mt.getEncodedBits(t);let o,i,s;for(let l=0;l<18;l++)o=Math.floor(l/3),i=l%3+n-8-3,s=(e>>l&1)===1,r.set(o,i,s,!0),r.set(i,o,s,!0)}function Ot(r,t,n){const e=r.size,o=Bn.getEncodedBits(t,n);let i,s;for(i=0;i<15;i++)s=(o>>i&1)===1,i<6?r.set(i,8,s,!0):i<8?r.set(i+1,8,s,!0):r.set(e-15+i,8,s,!0),i<8?r.set(8,e-i-1,s,!0):i<9?r.set(8,15-i-1+1,s,!0):r.set(8,15-i-1,s,!0);r.set(e-8,8,1,!0)}function An(r,t){const n=r.size;let e=-1,o=n-1,i=7,s=0;for(let l=n-1;l>0;l-=2)for(l===6&&l--;;){for(let a=0;a<2;a++)if(!r.isReserved(o,l-a)){let u=!1;s<t.length&&(u=(t[s]>>>i&1)===1),r.set(o,l-a,u),i--,i===-1&&(s++,i=7)}if(o+=e,o<0||n<=o){o-=e,e=-e;break}}}function Rn(r,t,n){const e=new vn;n.forEach(function(a){e.put(a.mode.bit,4),e.put(a.getLength(),Sn.getCharCountIndicator(a.mode,r)),a.write(e)});const o=Ft.getSymbolTotalCodewords(r),i=Jt.getTotalCodewordsCount(r,t),s=(o-i)*8;for(e.getLengthInBits()+4<=s&&e.put(0,4);e.getLengthInBits()%8!==0;)e.putBit(0);const l=(s-e.getLengthInBits())/8;for(let a=0;a<l;a++)e.put(a%2?17:236,8);return Ln(e,r,t)}function Ln(r,t,n){const e=Ft.getSymbolTotalCodewords(t),o=Jt.getTotalCodewordsCount(t,n),i=e-o,s=Jt.getBlocksCount(t,n),l=e%s,a=s-l,u=Math.floor(e/s),f=Math.floor(i/s),v=f+1,h=u-f,d=new Tn(h);let _=0;const g=new Array(s),p=new Array(s);let c=0;const m=new Uint8Array(r.buffer);for(let N=0;N<s;N++){const A=N<a?f:v;g[N]=m.slice(_,_+A),p[N]=d.encode(g[N]),_+=A,c=Math.max(c,A)}const y=new Uint8Array(e);let C=0,T,R;for(T=0;T<c;T++)for(R=0;R<s;R++)T<g[R].length&&(y[C++]=g[R][T]);for(T=0;T<h;T++)for(R=0;R<s;R++)y[C++]=p[R][T];return y}function zn(r,t,n,e){let o;if(Array.isArray(r))o=$t.fromArray(r);else if(typeof r=="string"){let u=t;if(!u){const f=$t.rawSplit(r);u=Mt.getBestVersionForData(f,n)}o=$t.fromString(r,u||40)}else throw new Error("Invalid data");const i=Mt.getBestVersionForData(o,n);if(!i)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=i;else if(t<i)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+i+`.
`);const s=Rn(t,n,o),l=Ft.getSymbolSize(t),a=new bn(l);return Nn(a,t),In(a),Mn(a,t),Ot(a,n,0),t>=7&&Pn(a,t),An(a,s),isNaN(e)&&(e=qt.getBestMask(a,Ot.bind(null,a,n))),qt.applyMask(e,a),Ot(a,n,e),{modules:a,version:t,errorCorrectionLevel:n,maskPattern:e,segments:o}}Me.create=function(t,n){if(typeof t>"u"||t==="")throw new Error("No input text");let e=Vt.M,o,i;return typeof n<"u"&&(e=Vt.from(n.errorCorrectionLevel,Vt.M),o=Mt.from(n.version),i=qt.from(n.maskPattern),n.toSJISFunc&&Ft.setToSJISFunction(n.toSJISFunc)),zn(t,o,e,i)};var je={},ee={};(function(r){function t(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let e=n.slice().replace("#","").split("");if(e.length<3||e.length===5||e.length>8)throw new Error("Invalid hex color: "+n);(e.length===3||e.length===4)&&(e=Array.prototype.concat.apply([],e.map(function(i){return[i,i]}))),e.length===6&&e.push("F","F");const o=parseInt(e.join(""),16);return{r:o>>24&255,g:o>>16&255,b:o>>8&255,a:o&255,hex:"#"+e.slice(0,6).join("")}}r.getOptions=function(e){e||(e={}),e.color||(e.color={});const o=typeof e.margin>"u"||e.margin===null||e.margin<0?4:e.margin,i=e.width&&e.width>=21?e.width:void 0,s=e.scale||4;return{width:i,scale:i?4:s,margin:o,color:{dark:t(e.color.dark||"#000000ff"),light:t(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}},r.getScale=function(e,o){return o.width&&o.width>=e+o.margin*2?o.width/(e+o.margin*2):o.scale},r.getImageWidth=function(e,o){const i=r.getScale(e,o);return Math.floor((e+o.margin*2)*i)},r.qrToImageData=function(e,o,i){const s=o.modules.size,l=o.modules.data,a=r.getScale(s,i),u=Math.floor((s+i.margin*2)*a),f=i.margin*a,v=[i.color.light,i.color.dark];for(let h=0;h<u;h++)for(let d=0;d<u;d++){let _=(h*u+d)*4,g=i.color.light;if(h>=f&&d>=f&&h<u-f&&d<u-f){const p=Math.floor((h-f)/a),c=Math.floor((d-f)/a);g=v[l[p*s+c]?1:0]}e[_++]=g.r,e[_++]=g.g,e[_++]=g.b,e[_]=g.a}}})(ee);(function(r){const t=ee;function n(o,i,s){o.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=s,i.width=s,i.style.height=s+"px",i.style.width=s+"px"}function e(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}r.render=function(i,s,l){let a=l,u=s;typeof a>"u"&&(!s||!s.getContext)&&(a=s,s=void 0),s||(u=e()),a=t.getOptions(a);const f=t.getImageWidth(i.modules.size,a),v=u.getContext("2d"),h=v.createImageData(f,f);return t.qrToImageData(h.data,i,a),n(v,u,f),v.putImageData(h,0,0),u},r.renderToDataURL=function(i,s,l){let a=l;typeof a>"u"&&(!s||!s.getContext)&&(a=s,s=void 0),a||(a={});const u=r.render(i,s,a),f=a.type||"image/png",v=a.rendererOpts||{};return u.toDataURL(f,v.quality)}})(je);var Ke={};const Un=ee;function me(r,t){const n=r.a/255,e=t+'="'+r.hex+'"';return n<1?e+" "+t+'-opacity="'+n.toFixed(2).slice(1)+'"':e}function jt(r,t,n){let e=r+t;return typeof n<"u"&&(e+=" "+n),e}function Dn(r,t,n){let e="",o=0,i=!1,s=0;for(let l=0;l<r.length;l++){const a=Math.floor(l%t),u=Math.floor(l/t);!a&&!i&&(i=!0),r[l]?(s++,l>0&&a>0&&r[l-1]||(e+=i?jt("M",a+n,.5+u+n):jt("m",o,0),o=0,i=!1),a+1<t&&r[l+1]||(e+=jt("h",s),s=0)):o++}return e}Ke.render=function(t,n,e){const o=Un.getOptions(n),i=t.modules.size,s=t.modules.data,l=i+o.margin*2,a=o.color.light.a?"<path "+me(o.color.light,"fill")+' d="M0 0h'+l+"v"+l+'H0z"/>':"",u="<path "+me(o.color.dark,"stroke")+' d="'+Dn(s,i,o.margin)+'"/>',f='viewBox="0 0 '+l+" "+l+'"',h='<svg xmlns="http://www.w3.org/2000/svg" '+(o.width?'width="'+o.width+'" height="'+o.width+'" ':"")+f+' shape-rendering="crispEdges">'+a+u+`</svg>
`;return typeof e=="function"&&e(null,h),h};const Fn=Xe,Yt=Me,qe=je,Hn=Ke;function ne(r,t,n,e,o){const i=[].slice.call(arguments,1),s=i.length,l=typeof i[s-1]=="function";if(!l&&!Fn())throw new Error("Callback required as last argument");if(l){if(s<2)throw new Error("Too few arguments provided");s===2?(o=n,n=t,t=e=void 0):s===3&&(t.getContext&&typeof o>"u"?(o=e,e=void 0):(o=e,e=n,n=t,t=void 0))}else{if(s<1)throw new Error("Too few arguments provided");return s===1?(n=t,t=e=void 0):s===2&&!t.getContext&&(e=n,n=t,t=void 0),new Promise(function(a,u){try{const f=Yt.create(n,e);a(r(f,t,e))}catch(f){u(f)}})}try{const a=Yt.create(n,e);o(null,r(a,t,e))}catch(a){o(a)}}vt.create=Yt.create;vt.toCanvas=ne.bind(null,qe.render);vt.toDataURL=ne.bind(null,qe.renderToDataURL);vt.toString=ne.bind(null,function(r,t,n){return Hn.render(r,n)});function pe(r,t,n){const e=r.slice();return e[26]=t[n],e[27]=t,e[28]=n,e}function _e(r,t,n){const e=r.slice();return e[29]=t[n],e[28]=n,e}function Vn(r){let t,n,e="Share the Game",o,i,s,l,a,u,f="Or share this link:",v,h,d,_,g,p;return{c(){t=E("div"),n=E("h2"),n.textContent=e,o=z(),i=E("div"),s=E("img"),a=z(),u=E("p"),u.textContent=f,v=z(),h=E("p"),d=E("a"),_=J(r[4]),this.h()},l(c){t=k(c,"DIV",{class:!0});var m=L(t);n=k(m,"H2",{"data-svelte-h":!0}),F(n)!=="svelte-v5oadc"&&(n.textContent=e),o=U(m),i=k(m,"DIV",{class:!0});var y=L(i);s=k(y,"IMG",{src:!0,alt:!0,class:!0}),y.forEach(w),a=U(m),u=k(m,"P",{"data-svelte-h":!0}),F(u)!=="svelte-ryrwqk"&&(u.textContent=f),v=U(m),h=k(m,"P",{class:!0});var C=L(h);d=k(C,"A",{href:!0,target:!0,rel:!0});var T=L(d);_=Y(T,r[4]),T.forEach(w),C.forEach(w),m.forEach(w),this.h()},h(){ae(s.src,l=r[2])||S(s,"src",l),S(s,"alt","Game QR Code"),S(s,"class","svelte-shogz5"),S(i,"class","qr-code-container svelte-shogz5"),S(d,"href",r[4]),S(d,"target","_blank"),S(d,"rel","noopener noreferrer"),S(h,"class","game-link svelte-shogz5"),S(t,"class","container post-game svelte-shogz5")},m(c,m){P(c,t,m),b(t,n),b(t,o),b(t,i),b(i,s),b(t,a),b(t,u),b(t,v),b(t,h),b(h,d),b(d,_),p=!0},p(c,m){(!p||m&4&&!ae(s.src,l=c[2]))&&S(s,"src",l),(!p||m&16)&&et(_,c[4]),(!p||m&16)&&S(d,"href",c[4])},i(c){p||(c&&_t(()=>{p&&(g||(g=X(t,Nt,{},!0)),g.run(1))}),p=!0)},o(c){c&&(g||(g=X(t,Nt,{},!1)),g.run(0)),p=!1},d(c){c&&w(t),c&&g&&g.end()}}}function $n(r){let t,n,e=`<img src="${Ne}/logo.jpg" alt="Game Logo" class="svelte-shogz5"/>`,o,i,s,l="Select Categories",a,u,f=[],v=new Map,h,d,_,g="Add Players",p,c,m=[],y=new Map,C,T,R="Add Player",N,A,D,H,W,j,B,Q,tt,lt=ct(r[1]);const at=I=>I[29].topic;for(let I=0;I<lt.length;I+=1){let M=_e(r,lt,I),V=at(M);v.set(V,f[I]=ye(V,M))}let it=ct(r[0]);const oe=I=>I[28];for(let I=0;I<it.length;I+=1){let M=pe(r,it,I),V=oe(M);y.set(V,m[I]=Ce(V,M))}let O=r[8]&&ve(r);return{c(){t=E("div"),n=E("div"),n.innerHTML=e,o=z(),i=E("div"),s=E("h2"),s.textContent=l,a=z(),u=E("div");for(let I=0;I<f.length;I+=1)f[I].c();h=z(),d=E("div"),_=E("h2"),_.textContent=g,p=z(),c=E("ul");for(let I=0;I<m.length;I+=1)m[I].c();C=z(),T=E("button"),T.textContent=R,N=z(),A=E("button"),D=J("Start Game"),W=z(),O&&O.c(),this.h()},l(I){t=k(I,"DIV",{class:!0});var M=L(t);n=k(M,"DIV",{class:!0,"data-svelte-h":!0}),F(n)!=="svelte-yddhuw"&&(n.innerHTML=e),o=U(M),i=k(M,"DIV",{class:!0});var V=L(i);s=k(V,"H2",{class:!0,"data-svelte-h":!0}),F(s)!=="svelte-12016nm"&&(s.textContent=l),a=U(V),u=k(V,"DIV",{class:!0});var re=L(u);for(let st=0;st<f.length;st+=1)f[st].l(re);re.forEach(w),V.forEach(w),h=U(M),d=k(M,"DIV",{class:!0});var ut=L(d);_=k(ut,"H2",{class:!0,"data-svelte-h":!0}),F(_)!=="svelte-195q7o9"&&(_.textContent=g),p=U(ut),c=k(ut,"UL",{class:!0});var ie=L(c);for(let st=0;st<m.length;st+=1)m[st].l(ie);ie.forEach(w),C=U(ut),T=k(ut,"BUTTON",{"data-svelte-h":!0}),F(T)!=="svelte-xkvb5c"&&(T.textContent=R),ut.forEach(w),N=U(M),A=k(M,"BUTTON",{class:!0});var se=L(A);D=Y(se,"Start Game"),se.forEach(w),W=U(M),O&&O.l(M),M.forEach(w),this.h()},h(){S(n,"class","logo-container svelte-shogz5"),S(s,"class","svelte-shogz5"),S(u,"class","categories-grid svelte-shogz5"),S(i,"class","section category-section svelte-shogz5"),S(_,"class","svelte-shogz5"),S(c,"class","player-list svelte-shogz5"),S(d,"class","section player-section svelte-shogz5"),S(A,"class","start-game-button svelte-shogz5"),A.disabled=H=!r[7],S(t,"class","container svelte-shogz5")},m(I,M){P(I,t,M),b(t,n),b(t,o),b(t,i),b(i,s),b(i,a),b(i,u);for(let V=0;V<f.length;V+=1)f[V]&&f[V].m(u,null);b(t,h),b(t,d),b(d,_),b(d,p),b(d,c);for(let V=0;V<m.length;V+=1)m[V]&&m[V].m(c,null);b(d,C),b(d,T),b(t,N),b(t,A),b(A,D),b(t,W),O&&O.m(t,null),B=!0,Q||(tt=[$(T,"click",r[9]),$(A,"click",r[12])],Q=!0)},p(I,M){M&2050&&(lt=ct(I[1]),f=fe(f,M,at,1,I,lt,v,u,Ge,ye,null,_e)),M&1025&&(it=ct(I[0]),yt(),m=fe(m,M,oe,1,I,it,y,c,Qe,Ce,null,pe),wt()),(!B||M&128&&H!==(H=!I[7]))&&(A.disabled=H),I[8]?O?O.p(I,M):(O=ve(I),O.c(),O.m(t,null)):O&&(O.d(1),O=null)},i(I){if(!B){for(let M=0;M<it.length;M+=1)K(m[M]);I&&_t(()=>{B&&(j||(j=X(t,Nt,{},!0)),j.run(1))}),B=!0}},o(I){for(let M=0;M<m.length;M+=1)q(m[M]);I&&(j||(j=X(t,Nt,{},!1)),j.run(0)),B=!1},d(I){I&&w(t);for(let M=0;M<f.length;M+=1)f[M].d();for(let M=0;M<m.length;M+=1)m[M].d();O&&O.d(),I&&j&&j.end(),Q=!1,Pt(tt)}}}function ye(r,t){let n,e=t[29].topic+"",o,i,s,l;function a(){return t[23](t[28])}return{key:r,first:null,c(){n=E("button"),o=J(e),i=z(),this.h()},l(u){n=k(u,"BUTTON",{type:!0,class:!0});var f=L(n);o=Y(f,e),i=U(f),f.forEach(w),this.h()},h(){S(n,"type","button"),S(n,"class","category-item svelte-shogz5"),ue(n,"selected",t[29].selected),this.first=n},m(u,f){P(u,n,f),b(n,o),b(n,i),s||(l=$(n,"click",a),s=!0)},p(u,f){t=u,f&2&&e!==(e=t[29].topic+"")&&et(o,e),f&2&&ue(n,"selected",t[29].selected)},d(u){u&&w(n),s=!1,l()}}}function we(r){let t,n="✕",e,o;function i(){return r[25](r[28])}return{c(){t=E("button"),t.textContent=n,this.h()},l(s){t=k(s,"BUTTON",{class:!0,"data-svelte-h":!0}),F(t)!=="svelte-35a4sl"&&(t.textContent=n),this.h()},h(){S(t,"class","remove-player-button svelte-shogz5")},m(s,l){P(s,t,l),e||(o=$(t,"click",i),e=!0)},p(s,l){r=s},d(s){s&&w(t),e=!1,o()}}}function Ce(r,t){let n,e,o,i,s,l,a,u,f;function v(){t[24].call(o,t[28])}let h=t[28]>=3&&we(t);return{key:r,first:null,c(){n=E("li"),e=E("div"),o=E("input"),i=z(),h&&h.c(),s=z(),this.h()},l(d){n=k(d,"LI",{});var _=L(n);e=k(_,"DIV",{class:!0});var g=L(e);o=k(g,"INPUT",{type:!0,placeholder:!0,class:!0}),i=U(g),h&&h.l(g),g.forEach(w),s=U(_),_.forEach(w),this.h()},h(){S(o,"type","text"),S(o,"placeholder","Player Name"),S(o,"class","svelte-shogz5"),S(e,"class","player-input svelte-shogz5"),this.first=n},m(d,_){P(d,n,_),b(n,e),b(e,o),ce(o,t[0][t[28]]),b(e,i),h&&h.m(e,null),b(n,s),a=!0,u||(f=$(o,"input",v),u=!0)},p(d,_){t=d,_&1&&o.value!==t[0][t[28]]&&ce(o,t[0][t[28]]),t[28]>=3?h?h.p(t,_):(h=we(t),h.c(),h.m(e,null)):h&&(h.d(1),h=null)},i(d){a||(d&&_t(()=>{a&&(l||(l=X(n,St,{y:20,duration:200},!0)),l.run(1))}),a=!0)},o(d){d&&(l||(l=X(n,St,{y:20,duration:200},!1)),l.run(0)),a=!1},d(d){d&&w(n),h&&h.d(),d&&l&&l.end(),u=!1,f()}}}function ve(r){let t,n;return{c(){t=E("p"),n=J(r[8]),this.h()},l(e){t=k(e,"P",{class:!0});var o=L(t);n=Y(o,r[8]),o.forEach(w),this.h()},h(){S(t,"class","prevent-message svelte-shogz5")},m(e,o){P(e,t,o),b(t,n)},p(e,o){o&256&&et(n,e[8])},d(e){e&&w(t)}}}function be(r){let t,n,e,o="Attention",i,s,l,a,u,f="Close",v,h;return{c(){t=E("div"),n=E("div"),e=E("h3"),e.textContent=o,i=z(),s=E("p"),l=J(ke),a=z(),u=E("button"),u.textContent=f,this.h()},l(d){t=k(d,"DIV",{class:!0,tabindex:!0,role:!0,"aria-labelledby":!0});var _=L(t);n=k(_,"DIV",{class:!0,tabindex:!0});var g=L(n);e=k(g,"H3",{id:!0,"data-svelte-h":!0}),F(e)!=="svelte-1w6sng0"&&(e.textContent=o),i=U(g),s=k(g,"P",{});var p=L(s);l=Y(p,ke),p.forEach(w),a=U(g),u=k(g,"BUTTON",{"data-svelte-h":!0}),F(u)!=="svelte-2m9p61"&&(u.textContent=f),g.forEach(w),_.forEach(w),this.h()},h(){S(e,"id","modal-title"),S(n,"class","modal-content svelte-shogz5"),S(n,"tabindex","0"),S(t,"class","modal-overlay svelte-shogz5"),S(t,"tabindex","0"),S(t,"role","dialog"),S(t,"aria-labelledby","modal-title")},m(d,_){P(d,t,_),b(t,n),b(n,e),b(n,i),b(n,s),b(s,l),b(n,a),b(n,u),v||(h=[$(u,"click",r[13]),$(n,"click",Bt(r[21])),$(n,"keydown",Bt(r[22])),$(t,"click",r[13]),$(t,"keydown",r[16])],v=!0)},p:Z,d(d){d&&w(t),v=!1,Pt(h)}}}function Ee(r){let t,n,e,o="🕵️‍♂️ How to Play Find The Spy!",i,s,l='<div class="rule-item svelte-shogz5"><h4 class="svelte-shogz5">1. Setup</h4> <p class="svelte-shogz5">Host chooses categories and players, then shares the game link.</p></div> <div class="rule-item svelte-shogz5"><h4 class="svelte-shogz5">2. Roles</h4> <p class="svelte-shogz5">All players get a topic (e.g., &quot;Animals&quot;). Most players receive a specific word (e.g., &quot;Lion&quot;), while one player becomes the <strong>Spy</strong> without knowing the word.</p></div> <div class="rule-item svelte-shogz5"><h4 class="svelte-shogz5">3. Discussion</h4> <p class="svelte-shogz5">Players take turns saying one word related to the secret word. You have <strong>10 seconds</strong> to speak or think. Known players, be subtle! Spy, try to blend in!</p></div> <div class="rule-item svelte-shogz5"><h4 class="svelte-shogz5">4. Voting</h4> <p class="svelte-shogz5">After one round, players vote on who they think is the Spy. Majority wins!</p></div> <div class="rule-item svelte-shogz5"><h4 class="svelte-shogz5">5. Reveal</h4> <ul class="svelte-shogz5"><li>Caught Spy: Gets one guess at the secret word. Correct guess means Spy wins!</li> <li>Undiscovered Spy: Automatic win for the Spy!</li></ul></div>',a,u,f="<strong>Be clever, be sneaky, and may the best Spy win! 🕵️‍♀️🎉</strong>",v,h,d="Close",_,g,p,c,m;return{c(){t=E("div"),n=E("div"),e=E("h3"),e.textContent=o,i=z(),s=E("div"),s.innerHTML=l,a=z(),u=E("p"),u.innerHTML=f,v=z(),h=E("button"),h.textContent=d,this.h()},l(y){t=k(y,"DIV",{class:!0,tabindex:!0,role:!0,"aria-labelledby":!0});var C=L(t);n=k(C,"DIV",{class:!0,tabindex:!0});var T=L(n);e=k(T,"H3",{id:!0,class:!0,"data-svelte-h":!0}),F(e)!=="svelte-1j6qndv"&&(e.textContent=o),i=U(T),s=k(T,"DIV",{class:!0,"data-svelte-h":!0}),F(s)!=="svelte-18p4en8"&&(s.innerHTML=l),a=U(T),u=k(T,"P",{class:!0,"data-svelte-h":!0}),F(u)!=="svelte-izf951"&&(u.innerHTML=f),v=U(T),h=k(T,"BUTTON",{class:!0,"data-svelte-h":!0}),F(h)!=="svelte-zc43rg"&&(h.textContent=d),T.forEach(w),C.forEach(w),this.h()},h(){S(e,"id","rules-modal-title"),S(e,"class","svelte-shogz5"),S(s,"class","rules-content svelte-shogz5"),S(u,"class","rules-footer svelte-shogz5"),S(h,"class","close-button svelte-shogz5"),S(n,"class","modal-content rules-modal svelte-shogz5"),S(n,"tabindex","0"),S(t,"class","modal-overlay svelte-shogz5"),S(t,"tabindex","0"),S(t,"role","dialog"),S(t,"aria-labelledby","rules-modal-title")},m(y,C){P(y,t,C),b(t,n),b(n,e),b(n,i),b(n,s),b(n,a),b(n,u),b(n,v),b(n,h),p=!0,c||(m=[$(h,"click",r[15]),$(n,"click",Bt(r[19])),$(n,"keydown",Bt(r[20])),$(t,"click",r[15]),$(t,"keydown",r[16])],c=!0)},p:Z,i(y){p||(y&&_t(()=>{p&&(_||(_=X(n,St,{y:20,duration:300},!0)),_.run(1))}),y&&_t(()=>{p&&(g||(g=X(t,de,{duration:200},!0)),g.run(1))}),p=!0)},o(y){y&&(_||(_=X(n,St,{y:20,duration:300},!1)),_.run(0)),y&&(g||(g=X(t,de,{duration:200},!1)),g.run(0)),p=!1},d(y){y&&w(t),y&&_&&_.end(),y&&g&&g.end(),c=!1,Pt(m)}}}function On(r){let t,n="?",e,o,i,s,l,a,u,f,v;const h=[$n,Vn],d=[];function _(c,m){return c[3]?1:0}o=_(r),i=d[o]=h[o](r);let g=r[5]&&be(r),p=r[6]&&Ee(r);return{c(){t=E("div"),t.textContent=n,e=z(),i.c(),s=z(),g&&g.c(),l=z(),p&&p.c(),a=ft(),this.h()},l(c){t=k(c,"DIV",{class:!0,"data-svelte-h":!0}),F(t)!=="svelte-1mvy7jy"&&(t.textContent=n),e=U(c),i.l(c),s=U(c),g&&g.l(c),l=U(c),p&&p.l(c),a=ft(),this.h()},h(){S(t,"class","question-mark svelte-shogz5")},m(c,m){P(c,t,m),P(c,e,m),d[o].m(c,m),P(c,s,m),g&&g.m(c,m),P(c,l,m),p&&p.m(c,m),P(c,a,m),u=!0,f||(v=$(t,"click",r[14]),f=!0)},p(c,[m]){let y=o;o=_(c),o===y?d[o].p(c,m):(yt(),q(d[y],1,1,()=>{d[y]=null}),wt(),i=d[o],i?i.p(c,m):(i=d[o]=h[o](c),i.c()),K(i,1),i.m(s.parentNode,s)),c[5]?g?g.p(c,m):(g=be(c),g.c(),g.m(l.parentNode,l)):g&&(g.d(1),g=null),c[6]?p?(p.p(c,m),m&64&&K(p,1)):(p=Ee(c),p.c(),K(p,1),p.m(a.parentNode,a)):p&&(yt(),q(p,1,1,()=>{p=null}),wt())},i(c){u||(K(i),K(p),u=!0)},o(c){q(i),q(p),u=!1},d(c){c&&(w(t),w(e),w(s),w(l),w(a)),d[o].d(c),g&&g.d(c),p&&p.d(c),f=!1,v()}}}let ke="";function jn(r,t,n){let e,o,i,s,l=["","",""],a="",u=!1,f="",v=!1,h=!1,d=[];Se(async()=>{try{const B=await fetch(Ne+"/topics.json");if(!B.ok)throw new Error(`Failed to load topics: ${B.status} ${B.statusText}`);const Q=await B.json();n(1,d=Q.map(tt=>({...tt,selected:!0})))}catch(B){console.error("Error loading topics:",B),alert("Failed to load topics. Please try again later.")}});function _(){n(0,l=[...l,""])}function g(B){B>=3&&n(0,l=l.filter((Q,tt)=>tt!==B))}function p(B){n(1,d=d.map((Q,tt)=>tt===B?{...Q,selected:!Q.selected}:Q))}async function c(){if(!i)return;const B=Date.now(),Q=d.map((at,it)=>at.selected?it:null).filter(at=>at!==null),lt=encodeURIComponent(JSON.stringify({players:e,timestamp:B,selectedCategoryIndices:Q}));n(4,f=`${window.location.origin}${window.location.pathname}?config=${lt}`),n(2,a=await vt.toDataURL(f)),n(3,u=!0)}function m(){n(5,v=!1)}function y(){n(6,h=!0)}function C(){n(6,h=!1)}function T(B){B.key==="Escape"&&(m(),C())}function R(B){Et.call(this,r,B)}function N(B){Et.call(this,r,B)}function A(B){Et.call(this,r,B)}function D(B){Et.call(this,r,B)}const H=B=>p(B);function W(B){l[B]=this.value,n(0,l)}const j=B=>g(B);return r.$$.update=()=>{r.$$.dirty&1&&n(17,e=l.filter(B=>B.trim()!=="")),r.$$.dirty&2&&n(18,o=d.filter(B=>B.selected)),r.$$.dirty&393216&&n(7,i=e.length>=3&&o.length>=1),r.$$.dirty&393216&&n(8,s=e.length<3?"You need at least 3 players to start the game.":o.length===0?"You need to select at least one category to start the game.":"")},[l,d,a,u,f,v,h,i,s,_,g,p,c,m,y,C,T,e,o,R,N,A,D,H,W,j]}class Kn extends Rt{constructor(t){super(),Lt(this,t,jn,On,At,{})}}function qn(r){let t=r,n=987654321;const e=4294967295;return function(){n=36969*(n&65535)+(n>>>16)&e,t=18e3*(t&65535)+(t>>>16)&e;let o=(n<<16)+(t&65535)>>>0;return o/=4294967296,o}}function Jn(r){let t,n,e="Next Round",o,i;function s(u,f){return u[0].playerName===u[3]?Wn:Qn}let l=s(r),a=l(r);return{c(){a.c(),t=z(),n=E("button"),n.textContent=e,this.h()},l(u){a.l(u),t=U(u),n=k(u,"BUTTON",{style:!0,"data-svelte-h":!0}),F(n)!=="svelte-bukjkq"&&(n.textContent=e),this.h()},h(){nt(n,"margin-top","1em")},m(u,f){a.m(u,f),P(u,t,f),P(u,n,f),o||(i=$(n,"click",r[10]),o=!0)},p(u,f){l===(l=s(u))&&a?a.p(u,f):(a.d(1),a=l(u),a&&(a.c(),a.m(t.parentNode,t)))},d(u){u&&(w(t),w(n)),a.d(u),o=!1,i()}}}function Yn(r){let t,n,e="Reveal",o,i;function s(u,f){return u[0].playerName===u[3]?Xn:Zn}let l=s(r),a=l(r);return{c(){a.c(),t=z(),n=E("button"),n.textContent=e,this.h()},l(u){a.l(u),t=U(u),n=k(u,"BUTTON",{style:!0,"data-svelte-h":!0}),F(n)!=="svelte-13sszzm"&&(n.textContent=e),this.h()},h(){nt(n,"margin-top","1em")},m(u,f){a.m(u,f),P(u,t,f),P(u,n,f),o||(i=$(n,"click",r[9]),o=!0)},p(u,f){l===(l=s(u))&&a?a.p(u,f):(a.d(1),a=l(u),a&&(a.c(),a.m(t.parentNode,t)))},d(u){u&&(w(t),w(n)),a.d(u),o=!1,i()}}}function Gn(r){let t,n,e=r[0].currentRound+1+"",o,i,s,l,a,u=(r[1]?r[1].topic:"Loading...")+"",f,v,h;function d(p,c){return p[7]?eo:p[6]?xn:to}let _=d(r),g=_(r);return{c(){t=E("h2"),n=J("Round "),o=J(e),i=z(),s=E("p"),l=J("Topic: "),a=E("strong"),f=J(u),v=z(),g.c(),h=ft()},l(p){t=k(p,"H2",{});var c=L(t);n=Y(c,"Round "),o=Y(c,e),c.forEach(w),i=U(p),s=k(p,"P",{});var m=L(s);l=Y(m,"Topic: "),a=k(m,"STRONG",{});var y=L(a);f=Y(y,u),y.forEach(w),m.forEach(w),v=U(p),g.l(p),h=ft()},m(p,c){P(p,t,c),b(t,n),b(t,o),P(p,i,c),P(p,s,c),b(s,l),b(s,a),b(a,f),P(p,v,c),g.m(p,c),P(p,h,c)},p(p,c){c&1&&e!==(e=p[0].currentRound+1+"")&&et(o,e),c&2&&u!==(u=(p[1]?p[1].topic:"Loading...")+"")&&et(f,u),_===(_=d(p))&&g?g.p(p,c):(g.d(1),g=_(p),g&&(g.c(),g.m(h.parentNode,h)))},d(p){p&&(w(t),w(i),w(s),w(v),w(h)),g.d(p)}}}function Qn(r){let t,n="The spy was:",e,o,i;return{c(){t=E("h2"),t.textContent=n,e=z(),o=E("p"),i=J(r[3]),this.h()},l(s){t=k(s,"H2",{"data-svelte-h":!0}),F(t)!=="svelte-ve5qpo"&&(t.textContent=n),e=U(s),o=k(s,"P",{style:!0});var l=L(o);i=Y(l,r[3]),l.forEach(w),this.h()},h(){nt(o,"font-size","1.5em"),nt(o,"color","var(--primary-color)")},m(s,l){P(s,t,l),P(s,e,l),P(s,o,l),b(o,i)},p(s,l){l&8&&et(i,s[3])},d(s){s&&(w(t),w(e),w(o))}}}function Wn(r){let t,n="The spy was you!";return{c(){t=E("h2"),t.textContent=n},l(e){t=k(e,"H2",{"data-svelte-h":!0}),F(t)!=="svelte-14frh6c"&&(t.textContent=n)},m(e,o){P(e,t,o)},p:Z,d(e){e&&w(t)}}}function Zn(r){let t,n="Your item is:",e,o,i;return{c(){t=E("h2"),t.textContent=n,e=z(),o=E("p"),i=J(r[2]),this.h()},l(s){t=k(s,"H2",{"data-svelte-h":!0}),F(t)!=="svelte-12gau5q"&&(t.textContent=n),e=U(s),o=k(s,"P",{style:!0});var l=L(o);i=Y(l,r[2]),l.forEach(w),this.h()},h(){nt(o,"font-size","1.5em"),nt(o,"color","var(--primary-color)")},m(s,l){P(s,t,l),P(s,e,l),P(s,o,l),b(o,i)},p(s,l){l&4&&et(i,s[2])},d(s){s&&(w(t),w(e),w(o))}}}function Xn(r){let t,n='You are the <span style="color: var(--primary-color);">Spy</span>!';return{c(){t=E("h2"),t.innerHTML=n},l(e){t=k(e,"H2",{"data-svelte-h":!0}),F(t)!=="svelte-1847dso"&&(t.innerHTML=n)},m(e,o){P(e,t,o)},p:Z,d(e){e&&w(t)}}}function xn(r){let t,n="Start Round",e,o;return{c(){t=E("button"),t.textContent=n},l(i){t=k(i,"BUTTON",{"data-svelte-h":!0}),F(t)!=="svelte-1a3afy0"&&(t.textContent=n)},m(i,s){P(i,t,s),e||(o=$(t,"click",r[8]),e=!0)},p:Z,d(i){i&&w(t),e=!1,o()}}}function to(r){let t,n="Loading topics...";return{c(){t=E("p"),t.textContent=n},l(e){t=k(e,"P",{"data-svelte-h":!0}),F(t)!=="svelte-jouuwm"&&(t.textContent=n)},m(e,o){P(e,t,o)},p:Z,d(e){e&&w(t)}}}function eo(r){let t,n;return{c(){t=E("p"),n=J(r[7]),this.h()},l(e){t=k(e,"P",{style:!0});var o=L(t);n=Y(o,r[7]),o.forEach(w),this.h()},h(){nt(t,"color","red")},m(e,o){P(e,t,o),b(t,n)},p(e,o){o&128&&et(n,e[7])},d(e){e&&w(t)}}}function no(r){let t;function n(i,s){if(!i[4])return Gn;if(i[5]==="initial")return Yn;if(i[5]==="revealed")return Jn}let e=n(r),o=e&&e(r);return{c(){t=E("div"),o&&o.c(),this.h()},l(i){t=k(i,"DIV",{class:!0});var s=L(t);o&&o.l(s),s.forEach(w),this.h()},h(){S(t,"class","container svelte-z4vihz")},m(i,s){P(i,t,s),o&&o.m(t,null)},p(i,[s]){e===(e=n(i))&&o?o.p(i,s):(o&&o.d(1),o=e&&e(i),o&&(o.c(),o.m(t,null)))},i:Z,o:Z,d(i){i&&w(t),o&&o.d()}}}function oo(r,t,n){let{gameState:e}=t,o=null,i=null,s=null,l=!1,a="initial",u=[],f=!1,v=null,h;Se(async()=>{try{const c=await fetch("/topics.json");if(!c.ok)throw new Error(`Failed to load topics: ${c.status} ${c.statusText}`);const m=await c.json(),y=e.gameConfiguration.selectedCategoryIndices;if(!y||y.length===0){n(7,v="No categories selected. Please restart the game and select at least one category.");return}u=y.map(C=>m[C]),n(6,f=!0),d()}catch(c){console.error("Error loading topics:",c),n(7,v="Failed to load topics. Please try again later.")}});function d(){if(u.length===0){n(7,v="No categories selected. Please restart the game and select at least one category.");return}const c=e.currentRound*3,m=qn(e.gameConfiguration.timestamp);for(let T=0;T<c;T++)m();const y=m(),C=Math.floor(y*u.length);n(1,o=u[C]),h=m}function _(){const c=h(),m=Math.floor(c*o.items.length);n(2,i=o.items[m]);const y=h(),C=Math.floor(y*e.gameConfiguration.players.length);n(3,s=e.gameConfiguration.players[C]),n(4,l=!0),n(5,a="initial")}function g(){n(5,a="revealed")}function p(){n(0,e.currentRound+=1,e),n(4,l=!1),n(5,a="initial"),d()}return r.$$set=c=>{"gameState"in c&&n(0,e=c.gameState)},[e,o,i,s,l,a,f,v,_,g,p]}class ro extends Rt{constructor(t){super(),Lt(this,t,oo,no,At,{gameState:0})}}function Te(r,t,n){const e=r.slice();return e[6]=t[n],e}function io(r){let t,n;return t=new ro({props:{gameState:r[0]}}),{c(){Gt(t.$$.fragment)},l(e){Qt(t.$$.fragment,e)},m(e,o){Wt(t,e,o),n=!0},p(e,o){const i={};o&1&&(i.gameState=e[0]),t.$set(i)},i(e){n||(K(t.$$.fragment,e),n=!0)},o(e){q(t.$$.fragment,e),n=!1},d(e){Zt(t,e)}}}function so(r){let t,n="Select Your Player",e,o,i=ct(r[2]),s=[];for(let l=0;l<i.length;l+=1)s[l]=Be(Te(r,i,l));return{c(){t=E("h2"),t.textContent=n,e=z(),o=E("ul");for(let l=0;l<s.length;l+=1)s[l].c()},l(l){t=k(l,"H2",{"data-svelte-h":!0}),F(t)!=="svelte-803e0e"&&(t.textContent=n),e=U(l),o=k(l,"UL",{});var a=L(o);for(let u=0;u<s.length;u+=1)s[u].l(a);a.forEach(w)},m(l,a){P(l,t,a),P(l,e,a),P(l,o,a);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(o,null)},p(l,a){if(a&12){i=ct(l[2]);let u;for(u=0;u<i.length;u+=1){const f=Te(l,i,u);s[u]?s[u].p(f,a):(s[u]=Be(f),s[u].c(),s[u].m(o,null))}for(;u<s.length;u+=1)s[u].d(1);s.length=i.length}},i:Z,o:Z,d(l){l&&(w(t),w(e),w(o)),Ye(s,l)}}}function Be(r){let t,n,e=r[6]+"",o,i,s,l;function a(){return r[5](r[6])}return{c(){t=E("li"),n=E("button"),o=J(e),i=z(),this.h()},l(u){t=k(u,"LI",{});var f=L(t);n=k(f,"BUTTON",{style:!0});var v=L(n);o=Y(v,e),v.forEach(w),i=U(f),f.forEach(w),this.h()},h(){nt(n,"width","100%"),nt(n,"margin-bottom","0.5em")},m(u,f){P(u,t,f),b(t,n),b(n,o),b(t,i),s||(l=$(n,"click",a),s=!0)},p(u,f){r=u,f&4&&e!==(e=r[6]+"")&&et(o,e)},d(u){u&&w(t),s=!1,l()}}}function lo(r){let t,n,e,o;const i=[so,io],s=[];function l(a,u){return a[1]?1:0}return n=l(r),e=s[n]=i[n](r),{c(){t=E("div"),e.c(),this.h()},l(a){t=k(a,"DIV",{class:!0});var u=L(t);e.l(u),u.forEach(w),this.h()},h(){S(t,"class","container")},m(a,u){P(a,t,u),s[n].m(t,null),o=!0},p(a,[u]){let f=n;n=l(a),n===f?s[n].p(a,u):(yt(),q(s[f],1,1,()=>{s[f]=null}),wt(),e=s[n],e?e.p(a,u):(e=s[n]=i[n](a),e.c()),K(e,1),e.m(t,null))},i(a){o||(K(e),o=!0)},o(a){q(e),o=!1},d(a){a&&w(t),s[n].d()}}}function ao(r,t,n){let{gameConfiguration:e}=t,o={currentRound:0,playerName:"",gameConfiguration:e},i=!1,s=[];s=e.players;function l(u){n(0,o.playerName=u,o),n(1,i=!0)}const a=u=>l(u);return r.$$set=u=>{"gameConfiguration"in u&&n(4,e=u.gameConfiguration)},[o,i,s,l,e,a]}class uo extends Rt{constructor(t){super(),Lt(this,t,ao,lo,At,{gameConfiguration:4})}}function co(r){let t,n;return t=new Kn({}),{c(){Gt(t.$$.fragment)},l(e){Qt(t.$$.fragment,e)},m(e,o){Wt(t,e,o),n=!0},p:Z,i(e){n||(K(t.$$.fragment,e),n=!0)},o(e){q(t.$$.fragment,e),n=!1},d(e){Zt(t,e)}}}function fo(r){let t,n;return t=new uo({props:{gameConfiguration:r[0]}}),{c(){Gt(t.$$.fragment)},l(e){Qt(t.$$.fragment,e)},m(e,o){Wt(t,e,o),n=!0},p(e,o){const i={};o&1&&(i.gameConfiguration=e[0]),t.$set(i)},i(e){n||(K(t.$$.fragment,e),n=!0)},o(e){q(t.$$.fragment,e),n=!1},d(e){Zt(t,e)}}}function ho(r){let t,n,e,o;const i=[fo,co],s=[];function l(a,u){return a[0]?0:1}return t=l(r),n=s[t]=i[t](r),{c(){n.c(),e=ft()},l(a){n.l(a),e=ft()},m(a,u){s[t].m(a,u),P(a,e,u),o=!0},p(a,[u]){let f=t;t=l(a),t===f?s[t].p(a,u):(yt(),q(s[f],1,1,()=>{s[f]=null}),wt(),n=s[t],n?n.p(a,u):(n=s[t]=i[t](a),n.c()),K(n,1),n.m(e.parentNode,e))},i(a){o||(K(n),o=!0)},o(a){q(n),o=!1},d(a){a&&w(e),s[t].d(a)}}}function go(r,t,n){let e=null;{const i=new URLSearchParams(window.location.search).get("config");if(i)try{e=JSON.parse(decodeURIComponent(i))}catch(s){console.error("Invalid game configuration:",s)}}return[e]}class wo extends Rt{constructor(t){super(),Lt(this,t,go,ho,At,{})}}export{wo as component,yo as universal};
