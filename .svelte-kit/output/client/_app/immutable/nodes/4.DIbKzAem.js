import{s as Be,f as We,n as re,r as Ve,c as Ge,i as Re,h as ne}from"../chunks/scheduler.D4L9Pt2K.js";import{S as Je,i as Ke,e as S,s as O,p as se,m as Qe,c as z,g as _,h as q,n as te,d as H,o as v,A as M,k as P,j as C,B as le,b as L,f as N,r as x,l as ae,C as He,D as Le}from"../chunks/index.DV9Mk8CO.js";import{e as I,u as Ne,d as De}from"../chunks/each.ut2oM2TZ.js";import{p as xe,i as Xe,a as Ye,r as Ze}from"../chunks/entry.YGHwdkze.js";const $e=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;var oe="mz3PUW_p",ie=["#FFC700","#FF0000","#2E3191","#41BBC7"],ce=3500,ue=.5,fe=150,de="mix",he=12,me="",_e=!0,pe=800,be=1600;function et(a,e={}){let{colors:t=ie,duration:l=ce,force:s=ue,particleCount:i=fe,particleShape:n=de,particleSize:r=he,particleClass:c=me,destroyAfterDone:g=_e,stageHeight:m=pe,stageWidth:h=be}=e;(function(E){if(document.querySelector("style[data-neoconfetti]"))return;const b=X("style");b.dataset.neoconfetti="",b.textContent=E,Y(document.head,b)})('@keyframes mz3PUW_ya{to{translate:0 var(--sh)}}@keyframes mz3PUW_xa{to{translate:var(--xlp)0}}@keyframes mz3PUW_r{50%{rotate:var(--hr)180deg}to{rotate:var(--r)360deg}}.mz3PUW_c{z-index:1200;width:0;height:0;position:relative;overflow:visible}.mz3PUW_p{animation:xa var(--dc)forwards cubic-bezier(var(--x1),var(--x2),var(--x3),var(--x4));animation-name:mz3PUW_xa}.mz3PUW_p>div{animation:ya var(--dc)forwards cubic-bezier(var(--y1),var(--y2),var(--y3),var(--y4));width:var(--w);height:var(--h);animation-name:mz3PUW_ya;position:absolute;top:0;left:0}.mz3PUW_p>div:before{content:"";background-color:var(--bgc);animation:r var(--rd)infinite linear;border-radius:var(--br);width:100%;height:100%;animation-name:mz3PUW_r;display:block}'),a.classList.add("mz3PUW_c"),a.style.setProperty("--sh",m+"px");let p=[],f=[];const o=()=>R(F()*(nt-1)),u=(E,b)=>n!=="rectangles"&&(E==="circles"||st(b));function A(E,b){const D=o(),U=u(n,D),y=(k,T)=>E.style.setProperty(k,T+"");y("--xlp",Z(Q(ke(b,90)-180),0,180,-h/2,h/2)+"px"),y("--dc",l-R(1e3*F())+"ms");const w=F()<lt?V(F()*at,2):0;y("--x1",w),y("--x2",-1*w),y("--x3",w),y("--x4",V(Q(Z(Q(ke(b,90)-180),0,180,-1,1)),4)),y("--y1",V(F()*ve,4)),y("--y2",V(F()*s*(Oe()?1:-1),4)),y("--y3",ve),y("--y4",V(rt(Z(Q(b-180),0,180,s,-s),0),4)),y("--w",(U?r:R(4*F())+r/2)+"px"),y("--h",(U?r:R(2*F())+r)+"px");const d=D.toString(2).padStart(3,"0").split("");y("--hr",d.map(k=>+k/2+"").join(" ")),y("--r",d.join(" ")),y("--rd",V(F()*(tt-ye)+ye)+"ms"),y("--br",U?"50%":0)}let j;function W(){a.innerHTML="",clearTimeout(j),p=ge(i,t),f=function(E,b=[],D){const U=[];for(const{color:y}of b){const w=X("div");w.className=`${oe} ${D}`,w.style.setProperty("--bgc",y);const d=X("div");Y(w,d),Y(E,w),U.push(w)}return U}(a,p,c);for(const[E,b]of we(f))A(b,p[+E].degree);j=setTimeout(()=>{g&&(a.innerHTML="")},l)}return W(),{update(E){const b=E.particleCount??fe,D=E.particleShape??de,U=E.particleSize??he,y=E.particleClass??me,w=E.colors??ie,d=E.stageHeight??pe,k=E.duration??ce,T=E.force??ue,J=E.stageWidth??be,G=E.destroyAfterDone??_e;p=ge(b,w);let B=!1;if(b===i){f=Array.from(a.querySelectorAll(`.${oe}`));for(const[Fe,{color:Ie}]of we(p)){const K=f[+Fe];JSON.stringify(t)!==JSON.stringify(w)&&K.style.setProperty("--bgc",Ie),D!==n&&K.style.setProperty("--br",u(D,o())?"50%":"0"),y!==c&&(c&&K.classList.remove(c),y&&K.classList.add(y))}}else B=!0;g&&!G&&clearTimeout(j),a.style.setProperty("--sh",d+"px"),l=k,t=w,s=T,i=b,n=D,r=U,c=y,g=G,m=d,h=J,B&&W()},destroy(){a.innerHTML="",clearTimeout(j)}}}var ye=200,tt=800,lt=.1,at=.3,ve=.5,Q=Math.abs,F=Math.random,R=Math.round,rt=Math.max,X=a=>document.createElement(a),Y=(a,e)=>a.appendChild(e),ge=(a,e)=>Array.from({length:a},(t,l)=>({color:e[l%e.length],degree:360*l/a})),V=(a,e=2)=>R((a+Number.EPSILON)*10**e)/10**e,Z=(a,e,t,l,s)=>(a-e)*(s-l)/(t-e)+l,ke=(a,e)=>a+e>360?a+e-360:a+e,Oe=()=>F()>.5,we=Object.entries,nt=6,st=a=>a!==1&&Oe();function ot(a){const e=JSON.parse(a);return e.data&&(e.data=xe(e.data)),e}function $(a){return HTMLElement.prototype.cloneNode.call(a)}function it(a,e=()=>{}){const t=async({action:s,result:i,reset:n=!0,invalidateAll:r=!0})=>{i.type==="success"&&(n&&HTMLFormElement.prototype.reset.call(a),r&&await Xe()),(location.origin+location.pathname===s.origin+s.pathname||i.type==="redirect"||i.type==="error")&&Ye(i)};async function l(s){var u,A,j,W,E;if(((u=s.submitter)!=null&&u.hasAttribute("formmethod")?s.submitter.formMethod:$(a).method)!=="post")return;s.preventDefault();const n=new URL((A=s.submitter)!=null&&A.hasAttribute("formaction")?s.submitter.formAction:$(a).action),r=(j=s.submitter)!=null&&j.hasAttribute("formenctype")?s.submitter.formEnctype:$(a).enctype,c=new FormData(a),g=(W=s.submitter)==null?void 0:W.getAttribute("name");g&&c.append(g,((E=s.submitter)==null?void 0:E.getAttribute("value"))??"");const m=new AbortController;let h=!1;const f=await e({action:n,cancel:()=>h=!0,controller:m,formData:c,formElement:a,submitter:s.submitter})??t;if(h)return;let o;try{const b=new Headers({accept:"application/json","x-sveltekit-action":"true"});r!=="multipart/form-data"&&b.set("Content-Type",/^(:?application\/x-www-form-urlencoded|text\/plain)$/.test(r)?r:"application/x-www-form-urlencoded");const D=r==="multipart/form-data"?c:new URLSearchParams(c),U=await fetch(n,{method:"POST",headers:b,cache:"no-store",body:D,signal:m.signal});o=ot(await U.text()),o.type==="error"&&(o.status=U.status)}catch(b){if((b==null?void 0:b.name)==="AbortError")return;o={type:"error",error:b}}f({action:n,formData:c,formElement:a,update:b=>t({action:n,result:o,reset:b==null?void 0:b.reset,invalidateAll:b==null?void 0:b.invalidateAll}),result:o})}return HTMLFormElement.prototype.addEventListener.call(a,"submit",l),{destroy(){HTMLFormElement.prototype.removeEventListener.call(a,"submit",l)}}}const qe="(prefers-reduced-motion: reduce)",ct=()=>window.matchMedia(qe).matches,ut=Ze(ct(),a=>{{const e=l=>{a(l.matches)},t=window.matchMedia(qe);return t.addEventListener("change",e),()=>{t.removeEventListener("change",e)}}}),{document:ee,window:ft}=$e;function Ee(a,e,t){const l=a.slice();return l[11]=e[t],l}function Ae(a,e,t){const l=a.slice();return l[14]=e[t],l}function Pe(a,e,t){const l=a.slice();l[11]=e[t];const s=l[11]===l[4];return l[17]=s,l}function Te(a,e,t){var h,p;const l=a.slice();l[20]=e[t];const s=l[17]?l[3]:l[1].guesses[l[11]];l[21]=s;const i=(h=l[1].answers[l[11]])==null?void 0:h[l[20]];l[22]=i;const n=((p=l[21])==null?void 0:p[l[20]])??"";l[23]=n;const r=l[17]&&l[20]===l[21].length;l[24]=r;const c=l[22]==="x";l[25]=c;const g=l[22]==="c";l[26]=g;const m=l[22]==="_";return l[27]=m,l}function dt(a){let e;return{c(){e=L("empty")},l(t){e=N(t,"empty")},m(t,l){C(t,e,l)},d(t){t&&_(e)}}}function ht(a){let e;return{c(){e=L("(absent)")},l(t){e=N(t,"(absent)")},m(t,l){C(t,e,l)},d(t){t&&_(e)}}}function mt(a){let e;return{c(){e=L("(present)")},l(t){e=N(t,"(present)")},m(t,l){C(t,e,l)},d(t){t&&_(e)}}}function _t(a){let e;return{c(){e=L("(correct)")},l(t){e=N(t,"(correct)")},m(t,l){C(t,e,l)},d(t){t&&_(e)}}}function Ce(a,e){let t,l=e[23]+"",s,i,n,r,c,g,m;function h(o,u){return o[25]?_t:o[26]?mt:o[27]?ht:dt}let p=h(e),f=p(e);return{key:a,first:null,c(){t=S("div"),s=L(l),i=O(),n=S("span"),f.c(),r=O(),c=S("input"),this.h()},l(o){t=z(o,"DIV",{class:!0});var u=H(t);s=N(u,l),i=q(u),n=z(u,"SPAN",{class:!0});var A=H(n);f.l(A),A.forEach(_),r=q(u),c=z(u,"INPUT",{name:!0,type:!0}),u.forEach(_),this.h()},h(){v(n,"class","visually-hidden"),v(c,"name","guess"),c.disabled=g=!e[17],v(c,"type","hidden"),c.value=m=e[23],v(t,"class","letter svelte-1pg2j5l"),M(t,"exact",e[25]),M(t,"close",e[26]),M(t,"missing",e[27]),M(t,"selected",e[24]),this.first=t},m(o,u){C(o,t,u),P(t,s),P(t,i),P(t,n),f.m(n,null),P(t,r),P(t,c)},p(o,u){e=o,u&26&&l!==(l=e[23]+"")&&ae(s,l),p!==(p=h(e))&&(f.d(1),f=p(e),f&&(f.c(),f.m(n,null))),u&16&&g!==(g=!e[17])&&(c.disabled=g),u&26&&m!==(m=e[23])&&(c.value=m),u&2&&M(t,"exact",e[25]),u&2&&M(t,"close",e[26]),u&2&&M(t,"missing",e[27]),u&26&&M(t,"selected",e[24])},d(o){o&&_(t),f.d()}}}function Se(a,e){let t,l,s=e[11]+1+"",i,n,r,c=[],g=new Map,m,h=I(Array.from(Array(5).keys()));const p=f=>f[20];for(let f=0;f<h.length;f+=1){let o=Te(e,h,f),u=p(o);g.set(u,c[f]=Ce(u,o))}return{key:a,first:null,c(){t=S("h2"),l=L("Row "),i=L(s),n=O(),r=S("div");for(let f=0;f<c.length;f+=1)c[f].c();m=O(),this.h()},l(f){t=z(f,"H2",{class:!0});var o=H(t);l=N(o,"Row "),i=N(o,s),o.forEach(_),n=q(f),r=z(f,"DIV",{class:!0});var u=H(r);for(let A=0;A<c.length;A+=1)c[A].l(u);m=q(u),u.forEach(_),this.h()},h(){v(t,"class","visually-hidden"),v(r,"class","row svelte-1pg2j5l"),M(r,"current",e[17]),this.first=t},m(f,o){C(f,t,o),P(t,l),P(t,i),C(f,n,o),C(f,r,o);for(let u=0;u<c.length;u+=1)c[u]&&c[u].m(r,null);P(r,m)},p(f,o){e=f,o&26&&(h=I(Array.from(Array(5).keys())),c=Ne(c,o,p,1,e,h,g,r,De,Ce,m,Te)),o&16&&M(r,"current",e[17])},d(f){f&&(_(t),_(n),_(r));for(let o=0;o<c.length;o+=1)c[o].d()}}}function pt(a){let e,t,l,s,i,n,r="back",c,g,m,h=I(["qwertyuiop","asdfghjkl","zxcvbnm"]),p=[];for(let f=0;f<3;f+=1)p[f]=je(Ee(a,h,f));return{c(){e=S("div"),t=S("button"),l=L("enter"),i=O(),n=S("button"),n.textContent=r,c=O();for(let f=0;f<3;f+=1)p[f].c();this.h()},l(f){e=z(f,"DIV",{class:!0});var o=H(e);t=z(o,"BUTTON",{"data-key":!0,class:!0});var u=H(t);l=N(u,"enter"),u.forEach(_),i=q(o),n=z(o,"BUTTON",{"data-key":!0,formaction:!0,name:!0,class:!0,"data-svelte-h":!0}),te(n)!=="svelte-1ptb1bp"&&(n.textContent=r),c=q(o);for(let A=0;A<3;A+=1)p[A].l(o);o.forEach(_),this.h()},h(){v(t,"data-key","enter"),t.disabled=s=!a[7],v(t,"class","svelte-1pg2j5l"),M(t,"selected",a[7]),v(n,"data-key","backspace"),v(n,"formaction","?/update"),v(n,"name","key"),n.value="backspace",v(n,"class","svelte-1pg2j5l"),v(e,"class","keyboard svelte-1pg2j5l")},m(f,o){C(f,e,o),P(e,t),P(t,l),P(e,i),P(e,n),P(e,c);for(let u=0;u<3;u+=1)p[u]&&p[u].m(e,null);g||(m=le(n,"click",He(a[9])),g=!0)},p(f,o){if(o&128&&s!==(s=!f[7])&&(t.disabled=s),o&128&&M(t,"selected",f[7]),o&708){h=I(["qwertyuiop","asdfghjkl","zxcvbnm"]);let u;for(u=0;u<3;u+=1){const A=Ee(f,h,u);p[u]?p[u].p(A,o):(p[u]=je(A),p[u].c(),p[u].m(e,null))}for(;u<3;u+=1)p[u].d(1)}},d(f){f&&_(e),Le(p,f),g=!1,m()}}}function bt(a){let e,t,l=a[5]?"you won :)":"game over :(",s,i,n=!a[5]&&a[1].answer&&Ue(a);return{c(){n&&n.c(),e=O(),t=S("button"),s=L(l),i=L(" play again?"),this.h()},l(r){n&&n.l(r),e=q(r),t=z(r,"BUTTON",{"data-key":!0,class:!0,formaction:!0});var c=H(t);s=N(c,l),i=N(c," play again?"),c.forEach(_),this.h()},h(){v(t,"data-key","enter"),v(t,"class","restart selected svelte-1pg2j5l"),v(t,"formaction","?/restart")},m(r,c){n&&n.m(r,c),C(r,e,c),C(r,t,c),P(t,s),P(t,i)},p(r,c){!r[5]&&r[1].answer?n?n.p(r,c):(n=Ue(r),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null),c&32&&l!==(l=r[5]?"you won :)":"game over :(")&&ae(s,l)},d(r){r&&(_(e),_(t)),n&&n.d(r)}}}function ze(a){let e,t,l,s,i,n;return{c(){e=S("button"),t=L(a[14]),this.h()},l(r){e=z(r,"BUTTON",{"data-key":!0,class:!0,formaction:!0,name:!0,"aria-label":!0});var c=H(e);t=N(c,a[14]),c.forEach(_),this.h()},h(){v(e,"data-key",a[14]),v(e,"class",l=ne(a[2][a[14]])+" svelte-1pg2j5l"),e.disabled=a[7],v(e,"formaction","?/update"),v(e,"name","key"),e.value=a[14],v(e,"aria-label",s=a[14]+" "+(a[6][a[14]]||""))},m(r,c){C(r,e,c),P(e,t),i||(n=le(e,"click",He(a[9])),i=!0)},p(r,c){c&4&&l!==(l=ne(r[2][r[14]])+" svelte-1pg2j5l")&&v(e,"class",l),c&128&&(e.disabled=r[7]),c&64&&s!==(s=r[14]+" "+(r[6][r[14]]||""))&&v(e,"aria-label",s)},d(r){r&&_(e),i=!1,n()}}}function je(a){let e,t,l=I(a[11]),s=[];for(let i=0;i<l.length;i+=1)s[i]=ze(Ae(a,l,i));return{c(){e=S("div");for(let i=0;i<s.length;i+=1)s[i].c();t=O(),this.h()},l(i){e=z(i,"DIV",{class:!0});var n=H(e);for(let r=0;r<s.length;r+=1)s[r].l(n);t=q(n),n.forEach(_),this.h()},h(){v(e,"class","row svelte-1pg2j5l")},m(i,n){C(i,e,n);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(e,null);P(e,t)},p(i,n){if(n&708){l=I(i[11]);let r;for(r=0;r<l.length;r+=1){const c=Ae(i,l,r);s[r]?s[r].p(c,n):(s[r]=ze(c),s[r].c(),s[r].m(e,t))}for(;r<s.length;r+=1)s[r].d(1);s.length=l.length}},d(i){i&&_(e),Le(s,i)}}}function Ue(a){let e,t,l=a[1].answer+"",s,i;return{c(){e=S("p"),t=L('the answer was "'),s=L(l),i=L('"')},l(n){e=z(n,"P",{});var r=H(e);t=N(r,'the answer was "'),s=N(r,l),i=N(r,'"'),r.forEach(_)},m(n,r){C(n,e,r),P(e,t),P(e,s),P(e,i)},p(n,r){r&2&&l!==(l=n[1].answer+"")&&ae(s,l)},d(n){n&&_(e)}}}function Me(a){let e,t,l,s;return{c(){e=S("div"),this.h()},l(i){e=z(i,"DIV",{style:!0}),H(e).forEach(_),this.h()},h(){x(e,"position","absolute"),x(e,"left","50%"),x(e,"top","30%")},m(i,n){C(i,e,n),l||(s=We(t=et.call(null,e,{particleCount:a[8]?0:void 0,force:.7,stageWidth:window.innerWidth,stageHeight:window.innerHeight,colors:["#ff3e00","#40b3ff","#676778"]})),l=!0)},p(i,n){t&&Re(t.update)&&n&256&&t.update.call(null,{particleCount:i[8]?0:void 0,force:.7,stageWidth:window.innerWidth,stageHeight:window.innerHeight,colors:["#ff3e00","#40b3ff","#676778"]})},d(i){i&&_(e),l=!1,s()}}}function yt(a){let e,t,l,s="Sverdle",i,n,r,c="How to play",g,m,h=[],p=new Map,f,o,u,A,j,W,E=I(Array.from(Array(6).keys()));const b=d=>d[11];for(let d=0;d<E.length;d+=1){let k=Pe(a,E,d),T=b(k);p.set(T,h[d]=Se(T,k))}function D(d,k){return d[5]||d[1].answers.length>=6?bt:pt}let U=D(a),y=U(a),w=a[5]&&Me(a);return{c(){e=S("meta"),t=O(),l=S("h1"),l.textContent=s,i=O(),n=S("form"),r=S("a"),r.textContent=c,g=O(),m=S("div");for(let d=0;d<h.length;d+=1)h[d].c();f=O(),o=S("div"),y.c(),u=O(),w&&w.c(),A=se(),this.h()},l(d){const k=Qe("svelte-18lvto8",ee.head);e=z(k,"META",{name:!0,content:!0}),k.forEach(_),t=q(d),l=z(d,"H1",{class:!0,"data-svelte-h":!0}),te(l)!=="svelte-16hvqlg"&&(l.textContent=s),i=q(d),n=z(d,"FORM",{method:!0,action:!0,class:!0});var T=H(n);r=z(T,"A",{class:!0,href:!0,"data-svelte-h":!0}),te(r)!=="svelte-1w3fhu3"&&(r.textContent=c),g=q(T),m=z(T,"DIV",{class:!0});var J=H(m);for(let B=0;B<h.length;B+=1)h[B].l(J);J.forEach(_),f=q(T),o=z(T,"DIV",{class:!0});var G=H(o);y.l(G),G.forEach(_),T.forEach(_),u=q(d),w&&w.l(d),A=se(),this.h()},h(){var d;ee.title="Sverdle",v(e,"name","description"),v(e,"content","A Wordle clone written in SvelteKit"),v(l,"class","visually-hidden"),v(r,"class","how-to-play svelte-1pg2j5l"),v(r,"href","/sverdle/how-to-play"),v(m,"class","grid svelte-1pg2j5l"),M(m,"playing",!a[5]),M(m,"bad-guess",(d=a[0])==null?void 0:d.badGuess),v(o,"class","controls svelte-1pg2j5l"),v(n,"method","POST"),v(n,"action","?/enter"),v(n,"class","svelte-1pg2j5l")},m(d,k){P(ee.head,e),C(d,t,k),C(d,l,k),C(d,i,k),C(d,n,k),P(n,r),P(n,g),P(n,m);for(let T=0;T<h.length;T+=1)h[T]&&h[T].m(m,null);P(n,f),P(n,o),y.m(o,null),C(d,u,k),w&&w.m(d,k),C(d,A,k),j||(W=[le(ft,"keydown",a[10]),We(it.call(null,n,vt))],j=!0)},p(d,[k]){var T;k&26&&(E=I(Array.from(Array(6).keys())),h=Ne(h,k,b,1,d,E,p,m,De,Se,null,Pe)),k&32&&M(m,"playing",!d[5]),k&1&&M(m,"bad-guess",(T=d[0])==null?void 0:T.badGuess),U===(U=D(d))&&y?y.p(d,k):(y.d(1),y=U(d),y&&(y.c(),y.m(o,null))),d[5]?w?w.p(d,k):(w=Me(d),w.c(),w.m(A.parentNode,A)):w&&(w.d(1),w=null)},i:re,o:re,d(d){d&&(_(t),_(l),_(i),_(n),_(u),_(A)),_(e);for(let k=0;k<h.length;k+=1)h[k].d();y.d(),w&&w.d(d),j=!1,Ve(W)}}}const vt=()=>({update:a})=>{a({reset:!1})};function gt(a,e,t){let l,s,i,n,r;Ge(a,ut,o=>t(8,r=o));let{data:c}=e,{form:g}=e,m,h;function p(o){const u=o.target.getAttribute("data-key");u==="backspace"?(t(3,i=i.slice(0,-1)),g!=null&&g.badGuess&&t(0,g.badGuess=!1,g)):i.length<5&&t(3,i+=u)}function f(o){var u;o.metaKey||o.key==="Enter"&&!n||(u=document.querySelector(`[data-key="${o.key}" i]`))==null||u.dispatchEvent(new MouseEvent("click",{cancelable:!0}))}return a.$$set=o=>{"data"in o&&t(1,c=o.data),"form"in o&&t(0,g=o.form)},a.$$.update=()=>{a.$$.dirty&2&&t(5,l=c.answers.at(-1)==="xxxxx"),a.$$.dirty&34&&t(4,s=l?-1:c.answers.length),a.$$.dirty&22&&(t(2,m={}),t(6,h={}),c.answers.forEach((o,u)=>{const A=c.guesses[u];for(let j=0;j<5;j+=1){const W=A[j];o[j]==="x"?(t(2,m[W]="exact",m),t(6,h[W]="correct",h)):m[W]||(t(2,m[W]=o[j]==="c"?"close":"missing",m),t(6,h[W]=o[j]==="c"?"present":"absent",h))}})),a.$$.dirty&18&&t(3,i=c.guesses[s]||""),a.$$.dirty&8&&t(7,n=i.length===5)},[g,c,m,i,s,l,h,n,r,p,f]}class Pt extends Je{constructor(e){super(),Ke(this,e,gt,yt,Be,{data:1,form:0})}}export{Pt as component};
