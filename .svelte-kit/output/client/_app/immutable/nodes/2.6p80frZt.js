import{r as Dt,y as Wt,s as yt,o as pe,z as Zt,A as Xt,n as Y,f as Re}from"../chunks/scheduler.BX2x-Afv.js";import{l as G,n as q,S as wt,i as Ct,s as D,k as rt,f as F,g as P,q as bt,m as Et,d as C,e as B,t as J,c as T,a as L,y as z,b as $,o as M,h as k,z as H,A as xt,j as W,B as te,C as ee,D as ne,p as Z,u as Ft,v as jt,w as zt,x as Vt,E as Le}from"../chunks/index.CDaZcnPi.js";import{b as Ue}from"../chunks/paths.CTCgR9vE.js";function ot(r){return(r==null?void 0:r.length)!==void 0?r:Array.from(r)}function De(r,t){r.d(1),t.delete(r.key)}function Fe(r,t){G(r,1,1,()=>{t.delete(r.key)})}function oe(r,t,n,e,o,i,l,s,a,c,u,y){let d=r.length,f=i.length,g=d;const m={};for(;g--;)m[r[g].key]=g;const p=[],h=new Map,_=new Map,w=[];for(g=f;g--;){const v=y(o,i,g),N=n(v);let U=l.get(N);U?w.push(()=>U.p(v,t)):(U=c(N,v),U.c()),h.set(N,p[g]=U),N in m&&_.set(N,Math.abs(g-m[N]))}const b=new Set,I=new Set;function E(v){q(v,1),v.m(s,u),l.set(v.key,v),u=v.first,f--}for(;d&&f;){const v=p[f-1],N=r[d-1],U=v.key,R=N.key;v===N?(u=v.first,d--,f--):h.has(R)?!l.has(U)||b.has(U)?E(v):I.has(R)?d--:_.get(U)>_.get(R)?(I.add(U),E(v)):(b.add(R),d--):(a(N,l),d--)}for(;d--;){const v=r[d];h.has(v.key)||a(v,l)}for(;f;)E(p[f-1]);return Dt(w),p}const je=!0,io=Object.freeze(Object.defineProperty({__proto__:null,prerender:je},Symbol.toStringTag,{value:"Module"}));function ze(r){const t=r-1;return t*t*t+1}function re(r,{delay:t=0,duration:n=400,easing:e=ze,x:o=0,y:i=0,opacity:l=0}={}){const s=getComputedStyle(r),a=+s.opacity,c=s.transform==="none"?"":s.transform,u=a*(1-l),[y,d]=Wt(o),[f,g]=Wt(i);return{delay:t,duration:n,easing:e,css:(m,p)=>`
			transform: ${c} translate(${(1-m)*y}${d}, ${(1-m)*f}${g});
			opacity: ${a-u*p}`}}var dt={},Ve=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},_e={},O={};let Ht;const He=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];O.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};O.getSymbolTotalCodewords=function(t){return He[t]};O.getBCHDigit=function(r){let t=0;for(;r!==0;)t++,r>>>=1;return t};O.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');Ht=t};O.isKanjiModeEnabled=function(){return typeof Ht<"u"};O.toSJIS=function(t){return Ht(t)};var vt={};(function(r){r.L={bit:1},r.M={bit:0},r.Q={bit:3},r.H={bit:2};function t(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return r.L;case"m":case"medium":return r.M;case"q":case"quartile":return r.Q;case"h":case"high":return r.H;default:throw new Error("Unknown EC Level: "+n)}}r.isValid=function(e){return e&&typeof e.bit<"u"&&e.bit>=0&&e.bit<4},r.from=function(e,o){if(r.isValid(e))return e;try{return t(e)}catch{return o}}})(vt);function ye(){this.buffer=[],this.length=0}ye.prototype={get:function(r){const t=Math.floor(r/8);return(this.buffer[t]>>>7-r%8&1)===1},put:function(r,t){for(let n=0;n<t;n++)this.putBit((r>>>t-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(r){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),r&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var Oe=ye;function ht(r){if(!r||r<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=r,this.data=new Uint8Array(r*r),this.reservedBit=new Uint8Array(r*r)}ht.prototype.set=function(r,t,n,e){const o=r*this.size+t;this.data[o]=n,e&&(this.reservedBit[o]=!0)};ht.prototype.get=function(r,t){return this.data[r*this.size+t]};ht.prototype.xor=function(r,t,n){this.data[r*this.size+t]^=n};ht.prototype.isReserved=function(r,t){return this.reservedBit[r*this.size+t]};var Ke=ht,we={};(function(r){const t=O.getSymbolSize;r.getRowColCoords=function(e){if(e===1)return[];const o=Math.floor(e/7)+2,i=t(e),l=i===145?26:Math.ceil((i-13)/(2*o-2))*2,s=[i-7];for(let a=1;a<o-1;a++)s[a]=s[a-1]-l;return s.push(6),s.reverse()},r.getPositions=function(e){const o=[],i=r.getRowColCoords(e),l=i.length;for(let s=0;s<l;s++)for(let a=0;a<l;a++)s===0&&a===0||s===0&&a===l-1||s===l-1&&a===0||o.push([i[s],i[a]]);return o}})(we);var Ce={};const Je=O.getSymbolSize,ie=7;Ce.getPositions=function(t){const n=Je(t);return[[0,0],[n-ie,0],[0,n-ie]]};var be={};(function(r){r.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};r.isValid=function(o){return o!=null&&o!==""&&!isNaN(o)&&o>=0&&o<=7},r.from=function(o){return r.isValid(o)?parseInt(o,10):void 0},r.getPenaltyN1=function(o){const i=o.size;let l=0,s=0,a=0,c=null,u=null;for(let y=0;y<i;y++){s=a=0,c=u=null;for(let d=0;d<i;d++){let f=o.get(y,d);f===c?s++:(s>=5&&(l+=t.N1+(s-5)),c=f,s=1),f=o.get(d,y),f===u?a++:(a>=5&&(l+=t.N1+(a-5)),u=f,a=1)}s>=5&&(l+=t.N1+(s-5)),a>=5&&(l+=t.N1+(a-5))}return l},r.getPenaltyN2=function(o){const i=o.size;let l=0;for(let s=0;s<i-1;s++)for(let a=0;a<i-1;a++){const c=o.get(s,a)+o.get(s,a+1)+o.get(s+1,a)+o.get(s+1,a+1);(c===4||c===0)&&l++}return l*t.N2},r.getPenaltyN3=function(o){const i=o.size;let l=0,s=0,a=0;for(let c=0;c<i;c++){s=a=0;for(let u=0;u<i;u++)s=s<<1&2047|o.get(c,u),u>=10&&(s===1488||s===93)&&l++,a=a<<1&2047|o.get(u,c),u>=10&&(a===1488||a===93)&&l++}return l*t.N3},r.getPenaltyN4=function(o){let i=0;const l=o.data.length;for(let a=0;a<l;a++)i+=o.data[a];return Math.abs(Math.ceil(i*100/l/5)-10)*t.N4};function n(e,o,i){switch(e){case r.Patterns.PATTERN000:return(o+i)%2===0;case r.Patterns.PATTERN001:return o%2===0;case r.Patterns.PATTERN010:return i%3===0;case r.Patterns.PATTERN011:return(o+i)%3===0;case r.Patterns.PATTERN100:return(Math.floor(o/2)+Math.floor(i/3))%2===0;case r.Patterns.PATTERN101:return o*i%2+o*i%3===0;case r.Patterns.PATTERN110:return(o*i%2+o*i%3)%2===0;case r.Patterns.PATTERN111:return(o*i%3+(o+i)%2)%2===0;default:throw new Error("bad maskPattern:"+e)}}r.applyMask=function(o,i){const l=i.size;for(let s=0;s<l;s++)for(let a=0;a<l;a++)i.isReserved(a,s)||i.xor(a,s,n(o,a,s))},r.getBestMask=function(o,i){const l=Object.keys(r.Patterns).length;let s=0,a=1/0;for(let c=0;c<l;c++){i(c),r.applyMask(c,o);const u=r.getPenaltyN1(o)+r.getPenaltyN2(o)+r.getPenaltyN3(o)+r.getPenaltyN4(o);r.applyMask(c,o),u<a&&(a=u,s=c)}return s}})(be);var kt={};const X=vt,gt=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],mt=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];kt.getBlocksCount=function(t,n){switch(n){case X.L:return gt[(t-1)*4+0];case X.M:return gt[(t-1)*4+1];case X.Q:return gt[(t-1)*4+2];case X.H:return gt[(t-1)*4+3];default:return}};kt.getTotalCodewordsCount=function(t,n){switch(n){case X.L:return mt[(t-1)*4+0];case X.M:return mt[(t-1)*4+1];case X.Q:return mt[(t-1)*4+2];case X.H:return mt[(t-1)*4+3];default:return}};var Ee={},Bt={};const ut=new Uint8Array(512),pt=new Uint8Array(256);(function(){let t=1;for(let n=0;n<255;n++)ut[n]=t,pt[t]=n,t<<=1,t&256&&(t^=285);for(let n=255;n<512;n++)ut[n]=ut[n-255]})();Bt.log=function(t){if(t<1)throw new Error("log("+t+")");return pt[t]};Bt.exp=function(t){return ut[t]};Bt.mul=function(t,n){return t===0||n===0?0:ut[pt[t]+pt[n]]};(function(r){const t=Bt;r.mul=function(e,o){const i=new Uint8Array(e.length+o.length-1);for(let l=0;l<e.length;l++)for(let s=0;s<o.length;s++)i[l+s]^=t.mul(e[l],o[s]);return i},r.mod=function(e,o){let i=new Uint8Array(e);for(;i.length-o.length>=0;){const l=i[0];for(let a=0;a<o.length;a++)i[a]^=t.mul(o[a],l);let s=0;for(;s<i.length&&i[s]===0;)s++;i=i.slice(s)}return i},r.generateECPolynomial=function(e){let o=new Uint8Array([1]);for(let i=0;i<e;i++)o=r.mul(o,new Uint8Array([1,t.exp(i)]));return o}})(Ee);const ve=Ee;function Ot(r){this.genPoly=void 0,this.degree=r,this.degree&&this.initialize(this.degree)}Ot.prototype.initialize=function(t){this.degree=t,this.genPoly=ve.generateECPolynomial(this.degree)};Ot.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(t.length+this.degree);n.set(t);const e=ve.mod(n,this.genPoly),o=this.degree-e.length;if(o>0){const i=new Uint8Array(this.degree);return i.set(e,o),i}return e};var $e=Ot,ke={},x={},Kt={};Kt.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var Q={};const Be="[0-9]+",Ye="[A-Z $%*+\\-./:]+";let ft="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";ft=ft.replace(/u/g,"\\u");const Ge="(?:(?![A-Z0-9 $%*+\\-./:]|"+ft+`)(?:.|[\r
]))+`;Q.KANJI=new RegExp(ft,"g");Q.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Q.BYTE=new RegExp(Ge,"g");Q.NUMERIC=new RegExp(Be,"g");Q.ALPHANUMERIC=new RegExp(Ye,"g");const qe=new RegExp("^"+ft+"$"),Qe=new RegExp("^"+Be+"$"),We=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Q.testKanji=function(t){return qe.test(t)};Q.testNumeric=function(t){return Qe.test(t)};Q.testAlphanumeric=function(t){return We.test(t)};(function(r){const t=Kt,n=Q;r.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},r.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},r.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},r.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},r.MIXED={bit:-1},r.getCharCountIndicator=function(i,l){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!t.isValid(l))throw new Error("Invalid version: "+l);return l>=1&&l<10?i.ccBits[0]:l<27?i.ccBits[1]:i.ccBits[2]},r.getBestModeForData=function(i){return n.testNumeric(i)?r.NUMERIC:n.testAlphanumeric(i)?r.ALPHANUMERIC:n.testKanji(i)?r.KANJI:r.BYTE},r.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},r.isValid=function(i){return i&&i.bit&&i.ccBits};function e(o){if(typeof o!="string")throw new Error("Param is not a string");switch(o.toLowerCase()){case"numeric":return r.NUMERIC;case"alphanumeric":return r.ALPHANUMERIC;case"kanji":return r.KANJI;case"byte":return r.BYTE;default:throw new Error("Unknown mode: "+o)}}r.from=function(i,l){if(r.isValid(i))return i;try{return e(i)}catch{return l}}})(x);(function(r){const t=O,n=kt,e=vt,o=x,i=Kt,l=7973,s=t.getBCHDigit(l);function a(d,f,g){for(let m=1;m<=40;m++)if(f<=r.getCapacity(m,g,d))return m}function c(d,f){return o.getCharCountIndicator(d,f)+4}function u(d,f){let g=0;return d.forEach(function(m){const p=c(m.mode,f);g+=p+m.getBitsLength()}),g}function y(d,f){for(let g=1;g<=40;g++)if(u(d,g)<=r.getCapacity(g,f,o.MIXED))return g}r.from=function(f,g){return i.isValid(f)?parseInt(f,10):g},r.getCapacity=function(f,g,m){if(!i.isValid(f))throw new Error("Invalid QR Code version");typeof m>"u"&&(m=o.BYTE);const p=t.getSymbolTotalCodewords(f),h=n.getTotalCodewordsCount(f,g),_=(p-h)*8;if(m===o.MIXED)return _;const w=_-c(m,f);switch(m){case o.NUMERIC:return Math.floor(w/10*3);case o.ALPHANUMERIC:return Math.floor(w/11*2);case o.KANJI:return Math.floor(w/13);case o.BYTE:default:return Math.floor(w/8)}},r.getBestVersionForData=function(f,g){let m;const p=e.from(g,e.M);if(Array.isArray(f)){if(f.length>1)return y(f,p);if(f.length===0)return 1;m=f[0]}else m=f;return a(m.mode,m.getLength(),p)},r.getEncodedBits=function(f){if(!i.isValid(f)||f<7)throw new Error("Invalid QR Code version");let g=f<<12;for(;t.getBCHDigit(g)-s>=0;)g^=l<<t.getBCHDigit(g)-s;return f<<12|g}})(ke);var Te={};const Mt=O,Ne=1335,Ze=21522,le=Mt.getBCHDigit(Ne);Te.getEncodedBits=function(t,n){const e=t.bit<<3|n;let o=e<<10;for(;Mt.getBCHDigit(o)-le>=0;)o^=Ne<<Mt.getBCHDigit(o)-le;return(e<<10|o)^Ze};var Ie={};const Xe=x;function it(r){this.mode=Xe.NUMERIC,this.data=r.toString()}it.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};it.prototype.getLength=function(){return this.data.length};it.prototype.getBitsLength=function(){return it.getBitsLength(this.data.length)};it.prototype.write=function(t){let n,e,o;for(n=0;n+3<=this.data.length;n+=3)e=this.data.substr(n,3),o=parseInt(e,10),t.put(o,10);const i=this.data.length-n;i>0&&(e=this.data.substr(n),o=parseInt(e,10),t.put(o,i*3+1))};var xe=it;const tn=x,Nt=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function lt(r){this.mode=tn.ALPHANUMERIC,this.data=r}lt.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};lt.prototype.getLength=function(){return this.data.length};lt.prototype.getBitsLength=function(){return lt.getBitsLength(this.data.length)};lt.prototype.write=function(t){let n;for(n=0;n+2<=this.data.length;n+=2){let e=Nt.indexOf(this.data[n])*45;e+=Nt.indexOf(this.data[n+1]),t.put(e,11)}this.data.length%2&&t.put(Nt.indexOf(this.data[n]),6)};var en=lt;const nn=x;function st(r){this.mode=nn.BYTE,typeof r=="string"?this.data=new TextEncoder().encode(r):this.data=new Uint8Array(r)}st.getBitsLength=function(t){return t*8};st.prototype.getLength=function(){return this.data.length};st.prototype.getBitsLength=function(){return st.getBitsLength(this.data.length)};st.prototype.write=function(r){for(let t=0,n=this.data.length;t<n;t++)r.put(this.data[t],8)};var on=st;const rn=x,ln=O;function at(r){this.mode=rn.KANJI,this.data=r}at.getBitsLength=function(t){return t*13};at.prototype.getLength=function(){return this.data.length};at.prototype.getBitsLength=function(){return at.getBitsLength(this.data.length)};at.prototype.write=function(r){let t;for(t=0;t<this.data.length;t++){let n=ln.toSJIS(this.data[t]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),r.put(n,13)}};var sn=at,Se={exports:{}};(function(r){var t={single_source_shortest_paths:function(n,e,o){var i={},l={};l[e]=0;var s=t.PriorityQueue.make();s.push(e,0);for(var a,c,u,y,d,f,g,m,p;!s.empty();){a=s.pop(),c=a.value,y=a.cost,d=n[c]||{};for(u in d)d.hasOwnProperty(u)&&(f=d[u],g=y+f,m=l[u],p=typeof l[u]>"u",(p||m>g)&&(l[u]=g,s.push(u,g),i[u]=c))}if(typeof o<"u"&&typeof l[o]>"u"){var h=["Could not find a path from ",e," to ",o,"."].join("");throw new Error(h)}return i},extract_shortest_path_from_predecessor_list:function(n,e){for(var o=[],i=e;i;)o.push(i),n[i],i=n[i];return o.reverse(),o},find_path:function(n,e,o){var i=t.single_source_shortest_paths(n,e,o);return t.extract_shortest_path_from_predecessor_list(i,o)},PriorityQueue:{make:function(n){var e=t.PriorityQueue,o={},i;n=n||{};for(i in e)e.hasOwnProperty(i)&&(o[i]=e[i]);return o.queue=[],o.sorter=n.sorter||e.default_sorter,o},default_sorter:function(n,e){return n.cost-e.cost},push:function(n,e){var o={value:n,cost:e};this.queue.push(o),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};r.exports=t})(Se);var an=Se.exports;(function(r){const t=x,n=xe,e=en,o=on,i=sn,l=Q,s=O,a=an;function c(h){return unescape(encodeURIComponent(h)).length}function u(h,_,w){const b=[];let I;for(;(I=h.exec(w))!==null;)b.push({data:I[0],index:I.index,mode:_,length:I[0].length});return b}function y(h){const _=u(l.NUMERIC,t.NUMERIC,h),w=u(l.ALPHANUMERIC,t.ALPHANUMERIC,h);let b,I;return s.isKanjiModeEnabled()?(b=u(l.BYTE,t.BYTE,h),I=u(l.KANJI,t.KANJI,h)):(b=u(l.BYTE_KANJI,t.BYTE,h),I=[]),_.concat(w,b,I).sort(function(v,N){return v.index-N.index}).map(function(v){return{data:v.data,mode:v.mode,length:v.length}})}function d(h,_){switch(_){case t.NUMERIC:return n.getBitsLength(h);case t.ALPHANUMERIC:return e.getBitsLength(h);case t.KANJI:return i.getBitsLength(h);case t.BYTE:return o.getBitsLength(h)}}function f(h){return h.reduce(function(_,w){const b=_.length-1>=0?_[_.length-1]:null;return b&&b.mode===w.mode?(_[_.length-1].data+=w.data,_):(_.push(w),_)},[])}function g(h){const _=[];for(let w=0;w<h.length;w++){const b=h[w];switch(b.mode){case t.NUMERIC:_.push([b,{data:b.data,mode:t.ALPHANUMERIC,length:b.length},{data:b.data,mode:t.BYTE,length:b.length}]);break;case t.ALPHANUMERIC:_.push([b,{data:b.data,mode:t.BYTE,length:b.length}]);break;case t.KANJI:_.push([b,{data:b.data,mode:t.BYTE,length:c(b.data)}]);break;case t.BYTE:_.push([{data:b.data,mode:t.BYTE,length:c(b.data)}])}}return _}function m(h,_){const w={},b={start:{}};let I=["start"];for(let E=0;E<h.length;E++){const v=h[E],N=[];for(let U=0;U<v.length;U++){const R=v[U],K=""+E+U;N.push(K),w[K]={node:R,lastCount:0},b[K]={};for(let et=0;et<I.length;et++){const V=I[et];w[V]&&w[V].node.mode===R.mode?(b[V][K]=d(w[V].lastCount+R.length,R.mode)-d(w[V].lastCount,R.mode),w[V].lastCount+=R.length):(w[V]&&(w[V].lastCount=R.length),b[V][K]=d(R.length,R.mode)+4+t.getCharCountIndicator(R.mode,_))}}I=N}for(let E=0;E<I.length;E++)b[I[E]].end=0;return{map:b,table:w}}function p(h,_){let w;const b=t.getBestModeForData(h);if(w=t.from(_,b),w!==t.BYTE&&w.bit<b.bit)throw new Error('"'+h+'" cannot be encoded with mode '+t.toString(w)+`.
 Suggested mode is: `+t.toString(b));switch(w===t.KANJI&&!s.isKanjiModeEnabled()&&(w=t.BYTE),w){case t.NUMERIC:return new n(h);case t.ALPHANUMERIC:return new e(h);case t.KANJI:return new i(h);case t.BYTE:return new o(h)}}r.fromArray=function(_){return _.reduce(function(w,b){return typeof b=="string"?w.push(p(b,null)):b.data&&w.push(p(b.data,b.mode)),w},[])},r.fromString=function(_,w){const b=y(_,s.isKanjiModeEnabled()),I=g(b),E=m(I,w),v=a.find_path(E.map,"start","end"),N=[];for(let U=1;U<v.length-1;U++)N.push(E.table[v[U]].node);return r.fromArray(f(N))},r.rawSplit=function(_){return r.fromArray(y(_,s.isKanjiModeEnabled()))}})(Ie);const Tt=O,It=vt,cn=Oe,un=Ke,fn=we,dn=Ce,Rt=be,Lt=kt,hn=$e,_t=ke,gn=Te,mn=x,St=Ie;function pn(r,t){const n=r.size,e=dn.getPositions(t);for(let o=0;o<e.length;o++){const i=e[o][0],l=e[o][1];for(let s=-1;s<=7;s++)if(!(i+s<=-1||n<=i+s))for(let a=-1;a<=7;a++)l+a<=-1||n<=l+a||(s>=0&&s<=6&&(a===0||a===6)||a>=0&&a<=6&&(s===0||s===6)||s>=2&&s<=4&&a>=2&&a<=4?r.set(i+s,l+a,!0,!0):r.set(i+s,l+a,!1,!0))}}function _n(r){const t=r.size;for(let n=8;n<t-8;n++){const e=n%2===0;r.set(n,6,e,!0),r.set(6,n,e,!0)}}function yn(r,t){const n=fn.getPositions(t);for(let e=0;e<n.length;e++){const o=n[e][0],i=n[e][1];for(let l=-2;l<=2;l++)for(let s=-2;s<=2;s++)l===-2||l===2||s===-2||s===2||l===0&&s===0?r.set(o+l,i+s,!0,!0):r.set(o+l,i+s,!1,!0)}}function wn(r,t){const n=r.size,e=_t.getEncodedBits(t);let o,i,l;for(let s=0;s<18;s++)o=Math.floor(s/3),i=s%3+n-8-3,l=(e>>s&1)===1,r.set(o,i,l,!0),r.set(i,o,l,!0)}function Pt(r,t,n){const e=r.size,o=gn.getEncodedBits(t,n);let i,l;for(i=0;i<15;i++)l=(o>>i&1)===1,i<6?r.set(i,8,l,!0):i<8?r.set(i+1,8,l,!0):r.set(e-15+i,8,l,!0),i<8?r.set(8,e-i-1,l,!0):i<9?r.set(8,15-i-1+1,l,!0):r.set(8,15-i-1,l,!0);r.set(e-8,8,1,!0)}function Cn(r,t){const n=r.size;let e=-1,o=n-1,i=7,l=0;for(let s=n-1;s>0;s-=2)for(s===6&&s--;;){for(let a=0;a<2;a++)if(!r.isReserved(o,s-a)){let c=!1;l<t.length&&(c=(t[l]>>>i&1)===1),r.set(o,s-a,c),i--,i===-1&&(l++,i=7)}if(o+=e,o<0||n<=o){o-=e,e=-e;break}}}function bn(r,t,n){const e=new cn;n.forEach(function(a){e.put(a.mode.bit,4),e.put(a.getLength(),mn.getCharCountIndicator(a.mode,r)),a.write(e)});const o=Tt.getSymbolTotalCodewords(r),i=Lt.getTotalCodewordsCount(r,t),l=(o-i)*8;for(e.getLengthInBits()+4<=l&&e.put(0,4);e.getLengthInBits()%8!==0;)e.putBit(0);const s=(l-e.getLengthInBits())/8;for(let a=0;a<s;a++)e.put(a%2?17:236,8);return En(e,r,t)}function En(r,t,n){const e=Tt.getSymbolTotalCodewords(t),o=Lt.getTotalCodewordsCount(t,n),i=e-o,l=Lt.getBlocksCount(t,n),s=e%l,a=l-s,c=Math.floor(e/l),u=Math.floor(i/l),y=u+1,d=c-u,f=new hn(d);let g=0;const m=new Array(l),p=new Array(l);let h=0;const _=new Uint8Array(r.buffer);for(let v=0;v<l;v++){const N=v<a?u:y;m[v]=_.slice(g,g+N),p[v]=f.encode(m[v]),g+=N,h=Math.max(h,N)}const w=new Uint8Array(e);let b=0,I,E;for(I=0;I<h;I++)for(E=0;E<l;E++)I<m[E].length&&(w[b++]=m[E][I]);for(I=0;I<d;I++)for(E=0;E<l;E++)w[b++]=p[E][I];return w}function vn(r,t,n,e){let o;if(Array.isArray(r))o=St.fromArray(r);else if(typeof r=="string"){let c=t;if(!c){const u=St.rawSplit(r);c=_t.getBestVersionForData(u,n)}o=St.fromString(r,c||40)}else throw new Error("Invalid data");const i=_t.getBestVersionForData(o,n);if(!i)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=i;else if(t<i)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+i+`.
`);const l=bn(t,n,o),s=Tt.getSymbolSize(t),a=new un(s);return pn(a,t),_n(a),yn(a,t),Pt(a,n,0),t>=7&&wn(a,t),Cn(a,l),isNaN(e)&&(e=Rt.getBestMask(a,Pt.bind(null,a,n))),Rt.applyMask(e,a),Pt(a,n,e),{modules:a,version:t,errorCorrectionLevel:n,maskPattern:e,segments:o}}_e.create=function(t,n){if(typeof t>"u"||t==="")throw new Error("No input text");let e=It.M,o,i;return typeof n<"u"&&(e=It.from(n.errorCorrectionLevel,It.M),o=_t.from(n.version),i=Rt.from(n.maskPattern),n.toSJISFunc&&Tt.setToSJISFunction(n.toSJISFunc)),vn(t,o,e,i)};var Pe={},Jt={};(function(r){function t(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let e=n.slice().replace("#","").split("");if(e.length<3||e.length===5||e.length>8)throw new Error("Invalid hex color: "+n);(e.length===3||e.length===4)&&(e=Array.prototype.concat.apply([],e.map(function(i){return[i,i]}))),e.length===6&&e.push("F","F");const o=parseInt(e.join(""),16);return{r:o>>24&255,g:o>>16&255,b:o>>8&255,a:o&255,hex:"#"+e.slice(0,6).join("")}}r.getOptions=function(e){e||(e={}),e.color||(e.color={});const o=typeof e.margin>"u"||e.margin===null||e.margin<0?4:e.margin,i=e.width&&e.width>=21?e.width:void 0,l=e.scale||4;return{width:i,scale:i?4:l,margin:o,color:{dark:t(e.color.dark||"#000000ff"),light:t(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}},r.getScale=function(e,o){return o.width&&o.width>=e+o.margin*2?o.width/(e+o.margin*2):o.scale},r.getImageWidth=function(e,o){const i=r.getScale(e,o);return Math.floor((e+o.margin*2)*i)},r.qrToImageData=function(e,o,i){const l=o.modules.size,s=o.modules.data,a=r.getScale(l,i),c=Math.floor((l+i.margin*2)*a),u=i.margin*a,y=[i.color.light,i.color.dark];for(let d=0;d<c;d++)for(let f=0;f<c;f++){let g=(d*c+f)*4,m=i.color.light;if(d>=u&&f>=u&&d<c-u&&f<c-u){const p=Math.floor((d-u)/a),h=Math.floor((f-u)/a);m=y[s[p*l+h]?1:0]}e[g++]=m.r,e[g++]=m.g,e[g++]=m.b,e[g]=m.a}}})(Jt);(function(r){const t=Jt;function n(o,i,l){o.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=l,i.width=l,i.style.height=l+"px",i.style.width=l+"px"}function e(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}r.render=function(i,l,s){let a=s,c=l;typeof a>"u"&&(!l||!l.getContext)&&(a=l,l=void 0),l||(c=e()),a=t.getOptions(a);const u=t.getImageWidth(i.modules.size,a),y=c.getContext("2d"),d=y.createImageData(u,u);return t.qrToImageData(d.data,i,a),n(y,c,u),y.putImageData(d,0,0),c},r.renderToDataURL=function(i,l,s){let a=s;typeof a>"u"&&(!l||!l.getContext)&&(a=l,l=void 0),a||(a={});const c=r.render(i,l,a),u=a.type||"image/png",y=a.rendererOpts||{};return c.toDataURL(u,y.quality)}})(Pe);var Ae={};const kn=Jt;function se(r,t){const n=r.a/255,e=t+'="'+r.hex+'"';return n<1?e+" "+t+'-opacity="'+n.toFixed(2).slice(1)+'"':e}function At(r,t,n){let e=r+t;return typeof n<"u"&&(e+=" "+n),e}function Bn(r,t,n){let e="",o=0,i=!1,l=0;for(let s=0;s<r.length;s++){const a=Math.floor(s%t),c=Math.floor(s/t);!a&&!i&&(i=!0),r[s]?(l++,s>0&&a>0&&r[s-1]||(e+=i?At("M",a+n,.5+c+n):At("m",o,0),o=0,i=!1),a+1<t&&r[s+1]||(e+=At("h",l),l=0)):o++}return e}Ae.render=function(t,n,e){const o=kn.getOptions(n),i=t.modules.size,l=t.modules.data,s=i+o.margin*2,a=o.color.light.a?"<path "+se(o.color.light,"fill")+' d="M0 0h'+s+"v"+s+'H0z"/>':"",c="<path "+se(o.color.dark,"stroke")+' d="'+Bn(l,i,o.margin)+'"/>',u='viewBox="0 0 '+s+" "+s+'"',d='<svg xmlns="http://www.w3.org/2000/svg" '+(o.width?'width="'+o.width+'" height="'+o.width+'" ':"")+u+' shape-rendering="crispEdges">'+a+c+`</svg>
`;return typeof e=="function"&&e(null,d),d};const Tn=Ve,Ut=_e,Me=Pe,Nn=Ae;function $t(r,t,n,e,o){const i=[].slice.call(arguments,1),l=i.length,s=typeof i[l-1]=="function";if(!s&&!Tn())throw new Error("Callback required as last argument");if(s){if(l<2)throw new Error("Too few arguments provided");l===2?(o=n,n=t,t=e=void 0):l===3&&(t.getContext&&typeof o>"u"?(o=e,e=void 0):(o=e,e=n,n=t,t=void 0))}else{if(l<1)throw new Error("Too few arguments provided");return l===1?(n=t,t=e=void 0):l===2&&!t.getContext&&(e=n,n=t,t=void 0),new Promise(function(a,c){try{const u=Ut.create(n,e);a(r(u,t,e))}catch(u){c(u)}})}try{const a=Ut.create(n,e);o(null,r(a,t,e))}catch(a){o(a)}}dt.create=Ut.create;dt.toCanvas=$t.bind(null,Me.render);dt.toDataURL=$t.bind(null,Me.renderToDataURL);dt.toString=$t.bind(null,function(r,t,n){return Nn.render(r,n)});function ae(r,t,n){const e=r.slice();return e[19]=t[n],e[20]=t,e[21]=n,e}function ce(r,t,n){const e=r.slice();return e[22]=t[n],e[21]=n,e}function In(r){let t,n,e="Share the Game",o,i,l,s,a,c,u="Or share this link:",y,d,f,g;return{c(){t=B("div"),n=B("h2"),n.textContent=e,o=D(),i=B("div"),l=B("img"),a=D(),c=B("p"),c.textContent=u,y=D(),d=B("p"),f=B("a"),g=J(r[3]),this.h()},l(m){t=T(m,"DIV",{class:!0});var p=L(t);n=T(p,"H2",{"data-svelte-h":!0}),z(n)!=="svelte-v5oadc"&&(n.textContent=e),o=F(p),i=T(p,"DIV",{class:!0});var h=L(i);l=T(h,"IMG",{src:!0,alt:!0,class:!0}),h.forEach(C),a=F(p),c=T(p,"P",{"data-svelte-h":!0}),z(c)!=="svelte-ryrwqk"&&(c.textContent=u),y=F(p),d=T(p,"P",{class:!0});var _=L(d);f=T(_,"A",{href:!0});var w=L(f);g=$(w,r[3]),w.forEach(C),_.forEach(C),p.forEach(C),this.h()},h(){Xt(l.src,s=r[1])||M(l,"src",s),M(l,"alt","Game QR Code"),M(l,"class","svelte-j7m9cv"),M(i,"class","qr-code-container svelte-j7m9cv"),M(f,"href",r[3]),M(d,"class","game-link svelte-j7m9cv"),M(t,"class","container post-game svelte-j7m9cv")},m(m,p){P(m,t,p),k(t,n),k(t,o),k(t,i),k(i,l),k(t,a),k(t,c),k(t,y),k(t,d),k(d,f),k(f,g)},p(m,p){p&2&&!Xt(l.src,s=m[1])&&M(l,"src",s),p&8&&W(g,m[3]),p&8&&M(f,"href",m[3])},i:Y,o:Y,d(m){m&&C(t)}}}function Sn(r){let t,n,e=`<img src="${Ue}/logo.jpg" alt="Game Logo" class="svelte-j7m9cv"/>`,o,i,l,s="Select Categories",a,c,u=[],y=new Map,d,f,g,m="Add Players",p,h,_=[],w=new Map,b,I,E="Add Player",v,N,U="Start Game",R,K,et,V=ot(r[6]);const Yt=A=>A[22].topic;for(let A=0;A<V.length;A+=1){let S=ce(r,V,A),j=Yt(S);y.set(j,u[A]=ue(j,S))}let ct=ot(r[0]);const Gt=A=>A[21];for(let A=0;A<ct.length;A+=1){let S=ae(r,ct,A),j=Gt(S);w.set(j,_[A]=de(j,S))}return{c(){t=B("div"),n=B("div"),n.innerHTML=e,o=D(),i=B("div"),l=B("h2"),l.textContent=s,a=D(),c=B("div");for(let A=0;A<u.length;A+=1)u[A].c();d=D(),f=B("div"),g=B("h2"),g.textContent=m,p=D(),h=B("ul");for(let A=0;A<_.length;A+=1)_[A].c();b=D(),I=B("button"),I.textContent=E,v=D(),N=B("button"),N.textContent=U,this.h()},l(A){t=T(A,"DIV",{class:!0});var S=L(t);n=T(S,"DIV",{class:!0,"data-svelte-h":!0}),z(n)!=="svelte-yddhuw"&&(n.innerHTML=e),o=F(S),i=T(S,"DIV",{class:!0});var j=L(i);l=T(j,"H2",{class:!0,"data-svelte-h":!0}),z(l)!=="svelte-12016nm"&&(l.textContent=s),a=F(j),c=T(j,"DIV",{class:!0});var qt=L(c);for(let tt=0;tt<u.length;tt+=1)u[tt].l(qt);qt.forEach(C),j.forEach(C),d=F(S),f=T(S,"DIV",{class:!0});var nt=L(f);g=T(nt,"H2",{class:!0,"data-svelte-h":!0}),z(g)!=="svelte-195q7o9"&&(g.textContent=m),p=F(nt),h=T(nt,"UL",{class:!0});var Qt=L(h);for(let tt=0;tt<_.length;tt+=1)_[tt].l(Qt);Qt.forEach(C),b=F(nt),I=T(nt,"BUTTON",{"data-svelte-h":!0}),z(I)!=="svelte-xkvb5c"&&(I.textContent=E),nt.forEach(C),v=F(S),N=T(S,"BUTTON",{class:!0,"data-svelte-h":!0}),z(N)!=="svelte-d0h7ln"&&(N.textContent=U),S.forEach(C),this.h()},h(){M(n,"class","logo-container svelte-j7m9cv"),M(l,"class","svelte-j7m9cv"),M(c,"class","categories-grid svelte-j7m9cv"),M(i,"class","section category-section svelte-j7m9cv"),M(g,"class","svelte-j7m9cv"),M(h,"class","player-list svelte-j7m9cv"),M(f,"class","section player-section svelte-j7m9cv"),M(N,"class","start-game-button svelte-j7m9cv"),M(t,"class","container svelte-j7m9cv")},m(A,S){P(A,t,S),k(t,n),k(t,o),k(t,i),k(i,l),k(i,a),k(i,c);for(let j=0;j<u.length;j+=1)u[j]&&u[j].m(c,null);k(t,d),k(t,f),k(f,g),k(f,p),k(f,h);for(let j=0;j<_.length;j+=1)_[j]&&_[j].m(h,null);k(f,b),k(f,I),k(t,v),k(t,N),R=!0,K||(et=[H(I,"click",r[7]),H(N,"click",r[10])],K=!0)},p(A,S){S&576&&(V=ot(A[6]),u=oe(u,S,Yt,1,A,V,y,c,De,ue,null,ce)),S&257&&(ct=ot(A[0]),bt(),_=oe(_,S,Gt,1,A,ct,w,h,Fe,de,null,ae),Et())},i(A){if(!R){for(let S=0;S<ct.length;S+=1)q(_[S]);R=!0}},o(A){for(let S=0;S<_.length;S+=1)G(_[S]);R=!1},d(A){A&&C(t);for(let S=0;S<u.length;S+=1)u[S].d();for(let S=0;S<_.length;S+=1)_[S].d();K=!1,Dt(et)}}}function ue(r,t){let n,e=t[22].topic+"",o,i,l,s;function a(){return t[15](t[21])}return{key:r,first:null,c(){n=B("button"),o=J(e),i=D(),this.h()},l(c){n=T(c,"BUTTON",{type:!0,class:!0});var u=L(n);o=$(u,e),i=F(u),u.forEach(C),this.h()},h(){M(n,"type","button"),M(n,"class","category-item svelte-j7m9cv"),te(n,"selected",t[22].selected),this.first=n},m(c,u){P(c,n,u),k(n,o),k(n,i),l||(s=H(n,"click",a),l=!0)},p(c,u){t=c,u&64&&e!==(e=t[22].topic+"")&&W(o,e),u&64&&te(n,"selected",t[22].selected)},d(c){c&&C(n),l=!1,s()}}}function fe(r){let t,n="âœ•",e,o;function i(){return r[17](r[21])}return{c(){t=B("button"),t.textContent=n,this.h()},l(l){t=T(l,"BUTTON",{class:!0,"data-svelte-h":!0}),z(t)!=="svelte-35a4sl"&&(t.textContent=n),this.h()},h(){M(t,"class","remove-player-button svelte-j7m9cv")},m(l,s){P(l,t,s),e||(o=H(t,"click",i),e=!0)},p(l,s){r=l},d(l){l&&C(t),e=!1,o()}}}function de(r,t){let n,e,o,i,l,s,a,c,u;function y(){t[16].call(o,t[21])}let d=t[0].length>1&&fe(t);return{key:r,first:null,c(){n=B("li"),e=B("div"),o=B("input"),i=D(),d&&d.c(),l=D(),this.h()},l(f){n=T(f,"LI",{});var g=L(n);e=T(g,"DIV",{class:!0});var m=L(e);o=T(m,"INPUT",{type:!0,placeholder:!0}),i=F(m),d&&d.l(m),m.forEach(C),l=F(g),g.forEach(C),this.h()},h(){M(o,"type","text"),M(o,"placeholder","Player Name"),M(e,"class","player-input svelte-j7m9cv"),this.first=n},m(f,g){P(f,n,g),k(n,e),k(e,o),ee(o,t[0][t[21]]),k(e,i),d&&d.m(e,null),k(n,l),a=!0,c||(u=H(o,"input",y),c=!0)},p(f,g){t=f,g&1&&o.value!==t[0][t[21]]&&ee(o,t[0][t[21]]),t[0].length>1?d?d.p(t,g):(d=fe(t),d.c(),d.m(e,null)):d&&(d.d(1),d=null)},i(f){a||(f&&Re(()=>{a&&(s||(s=ne(n,re,{y:20,duration:200},!0)),s.run(1))}),a=!0)},o(f){f&&(s||(s=ne(n,re,{y:20,duration:200},!1)),s.run(0)),a=!1},d(f){f&&C(n),d&&d.d(),f&&s&&s.end(),c=!1,u()}}}function he(r){let t,n,e,o="Attention",i,l,s,a,c,u="Close",y,d;return{c(){t=B("div"),n=B("div"),e=B("h3"),e.textContent=o,i=D(),l=B("p"),s=J(r[5]),a=D(),c=B("button"),c.textContent=u,this.h()},l(f){t=T(f,"DIV",{class:!0,tabindex:!0,role:!0,"aria-labelledby":!0});var g=L(t);n=T(g,"DIV",{class:!0,tabindex:!0});var m=L(n);e=T(m,"H3",{id:!0,"data-svelte-h":!0}),z(e)!=="svelte-1w6sng0"&&(e.textContent=o),i=F(m),l=T(m,"P",{});var p=L(l);s=$(p,r[5]),p.forEach(C),a=F(m),c=T(m,"BUTTON",{"data-svelte-h":!0}),z(c)!=="svelte-2m9p61"&&(c.textContent=u),m.forEach(C),g.forEach(C),this.h()},h(){M(e,"id","modal-title"),M(n,"class","modal-content svelte-j7m9cv"),M(n,"tabindex","0"),M(t,"class","modal-overlay svelte-j7m9cv"),M(t,"tabindex","0"),M(t,"role","dialog"),M(t,"aria-labelledby","modal-title")},m(f,g){P(f,t,g),k(t,n),k(n,e),k(n,i),k(n,l),k(l,s),k(n,a),k(n,c),y||(d=[H(c,"click",r[11]),H(n,"click",xt(r[13])),H(n,"keydown",xt(r[14])),H(t,"click",r[11]),H(t,"keydown",r[12])],y=!0)},p(f,g){g&32&&W(s,f[5])},d(f){f&&C(t),y=!1,Dt(d)}}}function Pn(r){let t,n,e,o,i;const l=[Sn,In],s=[];function a(u,y){return u[2]?1:0}t=a(r),n=s[t]=l[t](r);let c=r[4]&&he(r);return{c(){n.c(),e=D(),c&&c.c(),o=rt()},l(u){n.l(u),e=F(u),c&&c.l(u),o=rt()},m(u,y){s[t].m(u,y),P(u,e,y),c&&c.m(u,y),P(u,o,y),i=!0},p(u,[y]){let d=t;t=a(u),t===d?s[t].p(u,y):(bt(),G(s[d],1,1,()=>{s[d]=null}),Et(),n=s[t],n?n.p(u,y):(n=s[t]=l[t](u),n.c()),q(n,1),n.m(e.parentNode,e)),u[4]?c?c.p(u,y):(c=he(u),c.c(),c.m(o.parentNode,o)):c&&(c.d(1),c=null)},i(u){i||(q(n),i=!0)},o(u){G(n),i=!1},d(u){u&&(C(e),C(o)),s[t].d(u),c&&c.d(u)}}}function An(r,t,n){let e=[""],o="",i=!1,l="",s=!1,a="",c=[];pe(async()=>{try{const E=await fetch("/topics.json");if(!E.ok)throw new Error(`Failed to load topics: ${E.status} ${E.statusText}`);const v=await E.json();n(6,c=v.map(N=>({...N,selected:!0})))}catch(E){console.error("Error loading topics:",E),alert("Failed to load topics. Please try again later.")}});function u(){n(0,e=[...e,""])}function y(E){n(0,e=e.filter((v,N)=>N!==E))}function d(E){n(6,c=c.map((v,N)=>N===E?{...v,selected:!v.selected}:v))}function f(){const E=e.filter(N=>N.trim()!==""),v=c.filter(N=>N.selected);return E.length<3?(n(4,s=!0),n(5,a="You need at least 3 players to start the game."),!1):v.length===0?(n(4,s=!0),n(5,a="You need to select at least one category to start the game."),!1):!0}async function g(){if(!f())return;const E=Date.now(),v=c.map((R,K)=>R.selected?K:null).filter(R=>R!==null),N={players:e.filter(R=>R.trim()!==""),timestamp:E,selectedCategoryIndices:v},U=encodeURIComponent(JSON.stringify(N));n(3,l=`${window.location.origin}${window.location.pathname}?config=${U}`),n(1,o=await dt.toDataURL(l)),n(2,i=!0)}function m(){n(4,s=!1)}function p(E){E.key==="Escape"&&m()}function h(E){Zt.call(this,r,E)}function _(E){Zt.call(this,r,E)}const w=E=>d(E);function b(E){e[E]=this.value,n(0,e)}return[e,o,i,l,s,a,c,u,y,d,g,m,p,h,_,w,b,E=>y(E)]}class Mn extends wt{constructor(t){super(),Ct(this,t,An,Pn,yt,{})}}function Rn(r){let t=r,n=987654321;const e=4294967295;return function(){n=36969*(n&65535)+(n>>>16)&e,t=18e3*(t&65535)+(t>>>16)&e;let o=(n<<16)+(t&65535)>>>0;return o/=4294967296,o}}function Ln(r){let t,n,e="Next Round",o,i;function l(c,u){return c[0].playerName===c[3]?jn:Fn}let s=l(r),a=s(r);return{c(){a.c(),t=D(),n=B("button"),n.textContent=e,this.h()},l(c){a.l(c),t=F(c),n=T(c,"BUTTON",{style:!0,"data-svelte-h":!0}),z(n)!=="svelte-bukjkq"&&(n.textContent=e),this.h()},h(){Z(n,"margin-top","1em")},m(c,u){a.m(c,u),P(c,t,u),P(c,n,u),o||(i=H(n,"click",r[10]),o=!0)},p(c,u){s===(s=l(c))&&a?a.p(c,u):(a.d(1),a=s(c),a&&(a.c(),a.m(t.parentNode,t)))},d(c){c&&(C(t),C(n)),a.d(c),o=!1,i()}}}function Un(r){let t,n,e="Reveal",o,i;function l(c,u){return c[0].playerName===c[3]?Vn:zn}let s=l(r),a=s(r);return{c(){a.c(),t=D(),n=B("button"),n.textContent=e,this.h()},l(c){a.l(c),t=F(c),n=T(c,"BUTTON",{style:!0,"data-svelte-h":!0}),z(n)!=="svelte-13sszzm"&&(n.textContent=e),this.h()},h(){Z(n,"margin-top","1em")},m(c,u){a.m(c,u),P(c,t,u),P(c,n,u),o||(i=H(n,"click",r[9]),o=!0)},p(c,u){s===(s=l(c))&&a?a.p(c,u):(a.d(1),a=s(c),a&&(a.c(),a.m(t.parentNode,t)))},d(c){c&&(C(t),C(n)),a.d(c),o=!1,i()}}}function Dn(r){let t,n,e=r[0].currentRound+1+"",o,i,l,s,a,c=(r[1]?r[1].topic:"Loading...")+"",u,y,d;function f(p,h){return p[7]?Kn:p[6]?Hn:On}let g=f(r),m=g(r);return{c(){t=B("h2"),n=J("Round "),o=J(e),i=D(),l=B("p"),s=J("Topic: "),a=B("strong"),u=J(c),y=D(),m.c(),d=rt()},l(p){t=T(p,"H2",{});var h=L(t);n=$(h,"Round "),o=$(h,e),h.forEach(C),i=F(p),l=T(p,"P",{});var _=L(l);s=$(_,"Topic: "),a=T(_,"STRONG",{});var w=L(a);u=$(w,c),w.forEach(C),_.forEach(C),y=F(p),m.l(p),d=rt()},m(p,h){P(p,t,h),k(t,n),k(t,o),P(p,i,h),P(p,l,h),k(l,s),k(l,a),k(a,u),P(p,y,h),m.m(p,h),P(p,d,h)},p(p,h){h&1&&e!==(e=p[0].currentRound+1+"")&&W(o,e),h&2&&c!==(c=(p[1]?p[1].topic:"Loading...")+"")&&W(u,c),g===(g=f(p))&&m?m.p(p,h):(m.d(1),m=g(p),m&&(m.c(),m.m(d.parentNode,d)))},d(p){p&&(C(t),C(i),C(l),C(y),C(d)),m.d(p)}}}function Fn(r){let t,n="The spy was:",e,o,i;return{c(){t=B("h2"),t.textContent=n,e=D(),o=B("p"),i=J(r[3]),this.h()},l(l){t=T(l,"H2",{"data-svelte-h":!0}),z(t)!=="svelte-ve5qpo"&&(t.textContent=n),e=F(l),o=T(l,"P",{style:!0});var s=L(o);i=$(s,r[3]),s.forEach(C),this.h()},h(){Z(o,"font-size","1.5em"),Z(o,"color","var(--primary-color)")},m(l,s){P(l,t,s),P(l,e,s),P(l,o,s),k(o,i)},p(l,s){s&8&&W(i,l[3])},d(l){l&&(C(t),C(e),C(o))}}}function jn(r){let t,n="The spy was you!";return{c(){t=B("h2"),t.textContent=n},l(e){t=T(e,"H2",{"data-svelte-h":!0}),z(t)!=="svelte-14frh6c"&&(t.textContent=n)},m(e,o){P(e,t,o)},p:Y,d(e){e&&C(t)}}}function zn(r){let t,n="Your item is:",e,o,i;return{c(){t=B("h2"),t.textContent=n,e=D(),o=B("p"),i=J(r[2]),this.h()},l(l){t=T(l,"H2",{"data-svelte-h":!0}),z(t)!=="svelte-12gau5q"&&(t.textContent=n),e=F(l),o=T(l,"P",{style:!0});var s=L(o);i=$(s,r[2]),s.forEach(C),this.h()},h(){Z(o,"font-size","1.5em"),Z(o,"color","var(--primary-color)")},m(l,s){P(l,t,s),P(l,e,s),P(l,o,s),k(o,i)},p(l,s){s&4&&W(i,l[2])},d(l){l&&(C(t),C(e),C(o))}}}function Vn(r){let t,n='You are the <span style="color: var(--primary-color);">Spy</span>!';return{c(){t=B("h2"),t.innerHTML=n},l(e){t=T(e,"H2",{"data-svelte-h":!0}),z(t)!=="svelte-1847dso"&&(t.innerHTML=n)},m(e,o){P(e,t,o)},p:Y,d(e){e&&C(t)}}}function Hn(r){let t,n="Start Round",e,o;return{c(){t=B("button"),t.textContent=n},l(i){t=T(i,"BUTTON",{"data-svelte-h":!0}),z(t)!=="svelte-1a3afy0"&&(t.textContent=n)},m(i,l){P(i,t,l),e||(o=H(t,"click",r[8]),e=!0)},p:Y,d(i){i&&C(t),e=!1,o()}}}function On(r){let t,n="Loading topics...";return{c(){t=B("p"),t.textContent=n},l(e){t=T(e,"P",{"data-svelte-h":!0}),z(t)!=="svelte-jouuwm"&&(t.textContent=n)},m(e,o){P(e,t,o)},p:Y,d(e){e&&C(t)}}}function Kn(r){let t,n;return{c(){t=B("p"),n=J(r[7]),this.h()},l(e){t=T(e,"P",{style:!0});var o=L(t);n=$(o,r[7]),o.forEach(C),this.h()},h(){Z(t,"color","red")},m(e,o){P(e,t,o),k(t,n)},p(e,o){o&128&&W(n,e[7])},d(e){e&&C(t)}}}function Jn(r){let t;function n(i,l){if(!i[4])return Dn;if(i[5]==="initial")return Un;if(i[5]==="revealed")return Ln}let e=n(r),o=e&&e(r);return{c(){t=B("div"),o&&o.c(),this.h()},l(i){t=T(i,"DIV",{class:!0});var l=L(t);o&&o.l(l),l.forEach(C),this.h()},h(){M(t,"class","container svelte-z4vihz")},m(i,l){P(i,t,l),o&&o.m(t,null)},p(i,[l]){e===(e=n(i))&&o?o.p(i,l):(o&&o.d(1),o=e&&e(i),o&&(o.c(),o.m(t,null)))},i:Y,o:Y,d(i){i&&C(t),o&&o.d()}}}function $n(r,t,n){let{gameState:e}=t,o=null,i=null,l=null,s=!1,a="initial",c=[],u=!1,y=null,d;pe(async()=>{try{const h=await fetch("/topics.json");if(!h.ok)throw new Error(`Failed to load topics: ${h.status} ${h.statusText}`);const _=await h.json(),w=e.gameConfiguration.selectedCategoryIndices;if(!w||w.length===0){n(7,y="No categories selected. Please restart the game and select at least one category.");return}c=w.map(b=>_[b]),n(6,u=!0),f()}catch(h){console.error("Error loading topics:",h),n(7,y="Failed to load topics. Please try again later.")}});function f(){if(c.length===0){n(7,y="No categories selected. Please restart the game and select at least one category.");return}const h=e.currentRound*3,_=Rn(e.gameConfiguration.timestamp);for(let I=0;I<h;I++)_();const w=_(),b=Math.floor(w*c.length);n(1,o=c[b]),d=_}function g(){const h=d(),_=Math.floor(h*o.items.length);n(2,i=o.items[_]);const w=d(),b=Math.floor(w*e.gameConfiguration.players.length);n(3,l=e.gameConfiguration.players[b]),n(4,s=!0),n(5,a="initial")}function m(){n(5,a="revealed")}function p(){n(0,e.currentRound+=1,e),n(4,s=!1),n(5,a="initial"),f()}return r.$$set=h=>{"gameState"in h&&n(0,e=h.gameState)},[e,o,i,l,s,a,u,y,g,m,p]}class Yn extends wt{constructor(t){super(),Ct(this,t,$n,Jn,yt,{gameState:0})}}function ge(r,t,n){const e=r.slice();return e[6]=t[n],e}function Gn(r){let t,n;return t=new Yn({props:{gameState:r[0]}}),{c(){Ft(t.$$.fragment)},l(e){jt(t.$$.fragment,e)},m(e,o){zt(t,e,o),n=!0},p(e,o){const i={};o&1&&(i.gameState=e[0]),t.$set(i)},i(e){n||(q(t.$$.fragment,e),n=!0)},o(e){G(t.$$.fragment,e),n=!1},d(e){Vt(t,e)}}}function qn(r){let t,n="Select Your Player",e,o,i=ot(r[2]),l=[];for(let s=0;s<i.length;s+=1)l[s]=me(ge(r,i,s));return{c(){t=B("h2"),t.textContent=n,e=D(),o=B("ul");for(let s=0;s<l.length;s+=1)l[s].c()},l(s){t=T(s,"H2",{"data-svelte-h":!0}),z(t)!=="svelte-803e0e"&&(t.textContent=n),e=F(s),o=T(s,"UL",{});var a=L(o);for(let c=0;c<l.length;c+=1)l[c].l(a);a.forEach(C)},m(s,a){P(s,t,a),P(s,e,a),P(s,o,a);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(o,null)},p(s,a){if(a&12){i=ot(s[2]);let c;for(c=0;c<i.length;c+=1){const u=ge(s,i,c);l[c]?l[c].p(u,a):(l[c]=me(u),l[c].c(),l[c].m(o,null))}for(;c<l.length;c+=1)l[c].d(1);l.length=i.length}},i:Y,o:Y,d(s){s&&(C(t),C(e),C(o)),Le(l,s)}}}function me(r){let t,n,e=r[6]+"",o,i,l,s;function a(){return r[5](r[6])}return{c(){t=B("li"),n=B("button"),o=J(e),i=D(),this.h()},l(c){t=T(c,"LI",{});var u=L(t);n=T(u,"BUTTON",{style:!0});var y=L(n);o=$(y,e),y.forEach(C),i=F(u),u.forEach(C),this.h()},h(){Z(n,"width","100%"),Z(n,"margin-bottom","0.5em")},m(c,u){P(c,t,u),k(t,n),k(n,o),k(t,i),l||(s=H(n,"click",a),l=!0)},p(c,u){r=c,u&4&&e!==(e=r[6]+"")&&W(o,e)},d(c){c&&C(t),l=!1,s()}}}function Qn(r){let t,n,e,o;const i=[qn,Gn],l=[];function s(a,c){return a[1]?1:0}return n=s(r),e=l[n]=i[n](r),{c(){t=B("div"),e.c(),this.h()},l(a){t=T(a,"DIV",{class:!0});var c=L(t);e.l(c),c.forEach(C),this.h()},h(){M(t,"class","container")},m(a,c){P(a,t,c),l[n].m(t,null),o=!0},p(a,[c]){let u=n;n=s(a),n===u?l[n].p(a,c):(bt(),G(l[u],1,1,()=>{l[u]=null}),Et(),e=l[n],e?e.p(a,c):(e=l[n]=i[n](a),e.c()),q(e,1),e.m(t,null))},i(a){o||(q(e),o=!0)},o(a){G(e),o=!1},d(a){a&&C(t),l[n].d()}}}function Wn(r,t,n){let{gameConfiguration:e}=t,o={currentRound:0,playerName:"",gameConfiguration:e},i=!1,l=[];l=e.players;function s(c){n(0,o.playerName=c,o),n(1,i=!0)}const a=c=>s(c);return r.$$set=c=>{"gameConfiguration"in c&&n(4,e=c.gameConfiguration)},[o,i,l,s,e,a]}class Zn extends wt{constructor(t){super(),Ct(this,t,Wn,Qn,yt,{gameConfiguration:4})}}function Xn(r){let t,n;return t=new Mn({}),{c(){Ft(t.$$.fragment)},l(e){jt(t.$$.fragment,e)},m(e,o){zt(t,e,o),n=!0},p:Y,i(e){n||(q(t.$$.fragment,e),n=!0)},o(e){G(t.$$.fragment,e),n=!1},d(e){Vt(t,e)}}}function xn(r){let t,n;return t=new Zn({props:{gameConfiguration:r[0]}}),{c(){Ft(t.$$.fragment)},l(e){jt(t.$$.fragment,e)},m(e,o){zt(t,e,o),n=!0},p(e,o){const i={};o&1&&(i.gameConfiguration=e[0]),t.$set(i)},i(e){n||(q(t.$$.fragment,e),n=!0)},o(e){G(t.$$.fragment,e),n=!1},d(e){Vt(t,e)}}}function to(r){let t,n,e,o;const i=[xn,Xn],l=[];function s(a,c){return a[0]?0:1}return t=s(r),n=l[t]=i[t](r),{c(){n.c(),e=rt()},l(a){n.l(a),e=rt()},m(a,c){l[t].m(a,c),P(a,e,c),o=!0},p(a,[c]){let u=t;t=s(a),t===u?l[t].p(a,c):(bt(),G(l[u],1,1,()=>{l[u]=null}),Et(),n=l[t],n?n.p(a,c):(n=l[t]=i[t](a),n.c()),q(n,1),n.m(e.parentNode,e))},i(a){o||(q(n),o=!0)},o(a){G(n),o=!1},d(a){a&&C(e),l[t].d(a)}}}function eo(r,t,n){let e=null;{const i=new URLSearchParams(window.location.search).get("config");if(i)try{e=JSON.parse(decodeURIComponent(i))}catch(l){console.error("Invalid game configuration:",l)}}return[e]}class lo extends wt{constructor(t){super(),Ct(this,t,eo,to,yt,{})}}export{lo as component,io as universal};
